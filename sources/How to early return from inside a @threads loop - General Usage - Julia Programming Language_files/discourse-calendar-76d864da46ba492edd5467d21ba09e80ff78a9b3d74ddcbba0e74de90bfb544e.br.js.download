define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter",["exports","discourse/adapters/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({basePath:()=>"/discourse-post-event/"})})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-event",["exports","@ember/string","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=s.default.extend({pathFor(e,s,i){let a=this.basePath(e,s,i)+(0,t.underscore)(e.pluralize(this.apiNameFor(s)))
return this.appendQueryParams(a,i)+".json"},apiNameFor:()=>"event"})})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-invitee",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({apiNameFor:()=>"invitee"})})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter",["exports","@ember/string","discourse/adapters/rest","discourse/lib/ajax","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-adapter"],(function(e,t,s,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=a.default.extend({destroyRecord(e,t,s){return(0,i.ajax)(this.pathFor(e,t,{post_id:s.post_id,id:s.id}),{type:"DELETE"})},update(e,a,n,o){const r={},l=(0,t.underscore)(this.apiNameFor(a))
return r[l]=o,(0,i.ajax)(this.pathFor(e,a,{id:n,post_id:o.post_id}),this.getPayload("PUT",r)).then((function(e){return new s.Result(e[l],e)}))},createRecord(e,a,n){const o={},r=(0,t.underscore)(this.apiNameFor(a))
return o[r]=n,(0,i.ajax)(this.pathFor(e,a,n),this.getPayload("POST",o)).then((function(e){return new s.Result(e[r],e)}))},pathFor(e,s,i){const a=i.post_id
delete i.post_id
const n=i.id
delete i.id
let o=this.basePath(e,s,{})+"events/"+a+"/"+(0,t.underscore)(e.pluralize(this.apiNameFor()))
return n&&(o+=`/${n}`),this.appendQueryParams(o,i)}})})),define("discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-reminder",["exports","discourse/plugins/discourse-calendar/discourse/adapters/discourse-post-event-nested-adapter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({apiNameFor:()=>"reminder"})})),define("discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"fg7N9D6Z",block:'[[[10,"section"],[12],[1,"\\n  "],[10,"h3"],[12],[1,[28,[35,0],["category.settings_sections.event_sorting"],null]],[13],[1,"\\n\\n"],[41,[30,0,["siteSettings","sort_categories_by_event_start_date_enabled"]],[[[1,"    "],[10,"section"],[14,0,"field show-subcategory-list-field"],[12],[1,"\\n      "],[10,"label"],[12],[1,"\\n        "],[8,[39,2],null,[["@type","@checked"],["checkbox",[30,0,["category","custom_fields","sort_topics_by_event_start_date"]]]],null],[1,"\\n        "],[1,[28,[35,0],["category.sort_topics_by_event_start_date"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["siteSettings","disable_resorting_on_categories_enabled"]],[[[1,"    "],[10,"section"],[14,0,"field show-subcategory-list-field"],[12],[1,"\\n      "],[10,"label"],[12],[1,"\\n        "],[8,[39,2],null,[["@type","@checked"],["checkbox",[30,0,["category","custom_fields","disable_topic_resorting"]]]],null],[1,"\\n        "],[1,[28,[35,0],["category.disable_topic_resorting"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13],[1,[28,[32,0],["[[\\"The `siteSettings` property path was used in the `discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.siteSettings}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `siteSettings` property path was used in the `discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.siteSettings}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["i18n","if","input"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/adapters/templates/connectors/category-custom-settings/show-event-category-sorting-settings.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/admin-calendar-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={resource:"admin.adminPlugins",path:"/plugins",map(){this.route("calendar")}}})),define("discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item",["exports","@ember/component","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s,i,a,n,o){"use strict"
var r
function l(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,o.createTemplateFactory)({id:"rYv6zHVZ",block:'[[[10,"td"],[12],[1,[30,0,["holiday","date"]]],[13],[1,"\\n"],[10,"td"],[12],[1,[30,0,["holiday","name"]]],[13],[1,"\\n"],[10,"td"],[12],[1,"\\n"],[41,[30,0,["isHolidayDisabled"]],[[[1,"    "],[8,[39,1],null,[["@action","@label"],[[28,[37,2],[[30,0],"enableHoliday",[30,0,["holiday"]],[30,0,["region_code"]]],null],"discourse_calendar.enable_holiday"]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,1],null,[["@action","@label"],[[28,[37,2],[[30,0],"disableHoliday",[30,0,["holiday"]],[30,0,["region_code"]]],null],"discourse_calendar.disable_holiday"]],null],[1,"\\n"]],[]]],[13],[1,[28,[32,0],["[[\\"The `holiday` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holiday}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `holiday` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holiday}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `isHolidayDisabled` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.isHolidayDisabled}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `holiday` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holiday}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `region_code` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.region_code}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `holiday` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holiday}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `region_code` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.region_code}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["if","d-button","action"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list-item.hbs",scope:()=>[n.default],isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(d,t.default.extend((l(r={tagName:"tr",classNameBindings:["isHolidayDisabled:disabled"],loading:!1,isHolidayDisabled:!1,disableHoliday(e,t){if(!this.loading)return this.set("loading",!0),(0,i.ajax)({url:"/admin/discourse-calendar/holidays/disable",type:"POST",data:{disabled_holiday:{holiday_name:e.name,region_code:t}}}).then((()=>this.set("isHolidayDisabled",!0))).catch(a.popupAjaxError).finally((()=>this.set("loading",!1)))},enableHoliday(e,t){if(!this.loading)return this.set("loading",!0),(0,i.ajax)({url:"/admin/discourse-calendar/holidays/enable",type:"DELETE",data:{disabled_holiday:{holiday_name:e.name,region_code:t}}}).then((()=>this.set("isHolidayDisabled",!1))).catch(a.popupAjaxError).finally((()=>this.set("loading",!1)))}},"disableHoliday",[s.action],Object.getOwnPropertyDescriptor(r,"disableHoliday"),r),l(r,"enableHoliday",[s.action],Object.getOwnPropertyDescriptor(r,"enableHoliday"),r),r)))})),define("discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=(0,i.createTemplateFactory)({id:"4wGqTLXi",block:'[[[10,"table"],[14,0,"holidays-list"],[12],[1,"\\n  "],[10,"thead"],[12],[1,"\\n    "],[10,"tr"],[12],[1,"\\n      "],[10,"td"],[12],[1,[28,[35,0],["discourse_calendar.date"],null]],[13],[1,"\\n      "],[10,"td"],[14,"colspan","2"],[12],[1,[28,[35,0],["discourse_calendar.holiday"],null]],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"tbody"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,1]],null]],null],null,[[[1,"      "],[8,[39,3],null,[["@holiday","@isHolidayDisabled","@region_code"],[[30,2],[30,2,["disabled"]],[30,3]]],null],[1,"\\n"]],[2]],null],[1,"  "],[13],[1,"\\n"],[13]],["@holidays","holiday","@region_code"],false,["i18n","each","-track-array","admin-holidays-list-item"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/admin-holidays-list.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(a,(0,s.default)())})),define("discourse/plugins/discourse-calendar/discourse/components/bulk-invite-sample-csv-file",["exports","@ember/component","@ember/object","@ember/template-factory"],(function(e,t,s,i){"use strict"
var a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=(0,i.createTemplateFactory)({id:"k9x9DF/w",block:'[[[8,[39,0],null,[["@label","@action"],["discourse_post_event.bulk_invite_modal.download_sample_csv",[28,[37,1],[[30,0],"downloadSampleCsv"],null]]],null]],[],false,["d-button","action"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/bulk-invite-sample-csv-file.hbs",isStrictMode:!1})
var o,r,l,d,u,c
e.default=(0,t.setComponentTemplate)(n,t.default.extend((o=a={downloadSampleCsv(){let e="";[["my_awesome_group","going"],["lucy","interested"],["mark","not_going"],["sam","unknown"]].forEach((t=>{e+=t.join(","),e+="\n"}))
const t=document.createElement("a")
t.href=`data:text/csv;charset=utf-8,${encodeURI(e)}`,t.target="_blank",t.rel="noopener noreferrer",t.download="bulk-invite-sample.csv",t.click()}},r="downloadSampleCsv",l=[s.action],d=Object.getOwnPropertyDescriptor(a,"downloadSampleCsv"),u=a,c={},Object.keys(d).forEach((function(e){c[e]=d[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,r,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,r,c),c=null),a)))})),define("discourse/plugins/discourse-calendar/discourse/components/csv-uploader",["exports","@ember/component","@ember/service","discourse/mixins/uppy-upload","discourse-common/utils/decorators","I18n","ember-this-fallback/this-fallback-helper","ember-this-fallback/try-lookup-helper","ember-this-fallback/is-component","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s,i,a,n,o,r,l,d,u){"use strict"
var c,p,m
function h(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=(0,u.createTemplateFactory)({id:"j5moXdOD",block:'[[[44,[[28,[37,1],null,[["uploadButtonDisabled"],[[28,[32,0],["uploadButtonDisabled"],null]]]]],[[[10,"label"],[14,0,"btn"],[15,"disabled",[52,[30,1,["uploadButtonDisabled"]],[28,[30,1,["uploadButtonDisabled"]],null,null],[28,[32,1],[[30,0],"uploadButtonDisabled","[\\"The `uploadButtonDisabled` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploadButtonDisabled}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]],[12],[1,"\\n  "],[1,[28,[35,3],["upload"],null]],[1,"Â "],[41,[28,[32,2],["uploadButtonText"],null],[[[8,[39,4],null,null,null]],[]],[[[44,[[28,[37,1],null,[["uploadButtonText"],[[28,[32,0],["uploadButtonText"],null]]]]],[[[1,[52,[30,2,["uploadButtonText"]],[28,[30,2,["uploadButtonText"]],null,null],[28,[32,1],[[30,0],"uploadButtonText","[\\"The `uploadButtonText` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploadButtonText}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]]],[2]]]],[]]],[1,"\\n  "],[44,[[28,[37,1],null,[["uploading"],[[28,[32,0],["uploading"],null]]]]],[[[10,"input"],[14,0,"hidden-upload-field"],[15,"disabled",[52,[30,3,["uploading"]],[28,[30,3,["uploading"]],null,null],[28,[32,1],[[30,0],"uploading","[\\"The `uploading` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploading}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]],[14,"accept",".csv"],[14,4,"file"],[12],[13]],[3]]],[1,"\\n"],[13]],[1]]],[1,"\\n"],[41,[28,[37,5],[[30,0,["uploading"]],[30,0,["processing"]]],null],[[[1,"  "],[10,1],[12],[1,[28,[35,6],["upload_selector.uploading"],null]],[1," "],[41,[28,[32,2],["uploadProgress"],null],[[[8,[39,7],null,null,null]],[]],[[[44,[[28,[37,1],null,[["uploadProgress"],[[28,[32,0],["uploadProgress"],null]]]]],[[[1,[52,[30,4,["uploadProgress"]],[28,[30,4,["uploadProgress"]],null,null],[28,[32,1],[[30,0],"uploadProgress","[\\"The `uploadProgress` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploadProgress}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]]],[4]]]],[]]],[1,"%"],[13],[1,"\\n"]],[]],null],[1,[28,[32,3],["[[\\"The `uploading` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploading}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `processing` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.processing}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["maybeHelpers","maybeHelpers0","maybeHelpers0","maybeHelpers"],false,["let","hash","if","d-icon","upload-button-text","or","i18n","upload-progress"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/csv-uploader.hbs",scope:()=>[r.default,o.default,l.default,d.default],isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(b,t.default.extend(i.default,(c=(0,a.default)("uploading"),p=(0,a.default)("uploading","processing"),h(m={type:"csv",tagName:"span",dialog:(0,s.inject)(),uploadUrl:null,i18nPrefix:null,autoStartUploads:!1,validateUploadedFilesOptions:()=>({csvOnly:!0}),uploadButtonText(e){return e?n.default.t("uploading"):n.default.t(`${this.i18nPrefix}.text`)},uploadButtonDisabled:(e,t)=>!(!e&&!t)||null,uploadDone(){this.dialog.alert(n.default.t(`${this.i18nPrefix}.success`))},_uppyReady(){this._uppyInstance.on("file-added",(()=>{this.dialog.confirm({message:n.default.t(`${this.i18nPrefix}.confirmation_message`),didConfirm:()=>this._startUpload(),didCancel:()=>this._reset()})}))}},"uploadButtonText",[c],Object.getOwnPropertyDescriptor(m,"uploadButtonText"),m),h(m,"uploadButtonDisabled",[p],Object.getOwnPropertyDescriptor(m,"uploadButtonDisabled"),m),m)))})),define("discourse/plugins/discourse-calendar/discourse/components/event-field",["exports","@ember/component","ember-this-fallback/this-fallback-helper","ember-this-fallback/try-lookup-helper","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s,i,a,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=(0,n.createTemplateFactory)({id:"bOW6QHeO",block:'[[[41,[30,0,["enabled"]],[[[1,"  "],[44,[[28,[37,2],null,[["class"],[[28,[32,0],["class"],null]]]]],[[[10,0],[15,0,[29,["event-field ",[52,[30,1,["class"]],[28,[30,1,["class"]],null,null],[28,[32,1],[[30,0],"class","[\\"The `class` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/event-field.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.class}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]]]],[12],[1,"\\n"],[41,[30,0,["label"]],[[[1,"      "],[10,0],[14,0,"event-field-label"],[12],[1,"\\n        "],[10,1],[14,0,"label"],[12],[1,[28,[35,3],[[30,0,["label"]]],null]],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"event-field-control"],[12],[1,"\\n      "],[18,2,null],[1,"\\n    "],[13],[1,"\\n  "],[13]],[1]]],[1,"\\n"]],[]],null],[1,[28,[32,2],["[[\\"The `enabled` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/event-field.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.enabled}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `label` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/event-field.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.label}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `label` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/event-field.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.label}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["maybeHelpers","&default"],false,["if","let","hash","i18n","yield"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/event-field.hbs",scope:()=>[i.default,s.default,a.default],isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(o,t.default.extend({enabled:!0,class:null}))})),define("discourse/plugins/discourse-calendar/discourse/components/region-input",["exports","@ember/object","I18n","select-kit/components/combo-box","discourse/plugins/discourse-calendar/discourse/lib/regions"],(function(e,t,s,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=i.default.extend({pluginApiIdentifiers:["timezone-input"],classNames:["timezone-input","region-input"],allowNoneRegion:!1,selectKitOptions:{filterable:!0,allowAny:!1},content:(0,t.computed)((function(){const e={}
let t=[]
return JSON.parse(this.siteSettings.available_locales).forEach((t=>{e[t.value]=t.name})),!0===this.allowNoneRegion&&t.push({name:s.default.t("discourse_calendar.region.none"),id:null}),t=t.concat(a.HOLIDAY_REGIONS.map((e=>({name:s.default.t(`discourse_calendar.region.names.${e}`),id:e}))).sort(((e,t)=>e.name.localeCompare(t.name)))),t}))})})),define("discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal",["exports","@ember/component","@ember/object/computed","discourse-common/utils/decorators","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s,i,a,n){"use strict"
var o,r,l,d
function u(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=(0,n.createTemplateFactory)({id:"BrKh9qjI",block:'[[[10,0],[14,0,"invitees-type-filter"],[12],[1,"\\n  "],[8,[39,0],[[16,0,[28,[37,1],["btn toggle-going",[30,0,["isGoing"]]],null]]],[["@label","@action","@actionParam"],["discourse_post_event.models.invitee.status.going",[30,0,["toggle"]],"going"]],null],[1,"\\n\\n  "],[8,[39,0],[[16,0,[28,[37,1],["btn toggle-interested",[30,0,["isInterested"]]],null]]],[["@label","@action","@actionParam"],["discourse_post_event.models.invitee.status.interested",[30,0,["toggle"]],"interested"]],null],[1,"\\n\\n  "],[8,[39,0],[[16,0,[28,[37,1],["btn toggle-not-going",[30,0,["isNotGoing"]]],null]]],[["@label","@action","@actionParam"],["discourse_post_event.models.invitee.status.not_going",[30,0,["toggle"]],"not_going"]],null],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `toggle` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.toggle}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `isGoing` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.isGoing}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `toggle` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.toggle}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `isInterested` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.isInterested}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `toggle` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.toggle}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `isNotGoing` property path was used in the `discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.isNotGoing}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["d-button","concat"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/toggle-invitees-modal.hbs",scope:()=>[a.default],isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(c,t.default.extend((o=(0,i.default)("viewingType"),r=(0,i.default)("viewingType"),l=(0,i.default)("viewingType"),u(d={tagName:"",viewingType:(0,s.readOnly)("modal.type"),isGoing:e=>"going"===e?" btn-danger":" btn-default",isInterested:e=>"interested"===e?" btn-danger":" btn-default",isNotGoing:e=>"not_going"===e?" btn-danger":" btn-default"},"isGoing",[o],Object.getOwnPropertyDescriptor(d,"isGoing"),d),u(d,"isInterested",[r],Object.getOwnPropertyDescriptor(d,"isInterested"),d),u(d,"isNotGoing",[l],Object.getOwnPropertyDescriptor(d,"isNotGoing"),d),d)))})),define("discourse/plugins/discourse-calendar/discourse/components/upcoming-events-calendar",["exports","@ember/component","@ember/runloop","rsvp","discourse/lib/load-script","discourse-common/lib/get-url","discourse/plugins/discourse-calendar/discourse/helpers/format-event-name","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format","@ember/template-factory"],(function(e,t,s,i,a,n,o,r,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,l.createTemplateFactory)({id:"unERWDqE",block:'[[[10,0],[14,1,"upcoming-events-calendar"],[12],[13]],[],false,[]]',moduleName:"discourse/plugins/discourse-calendar/discourse/components/upcoming-events-calendar.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(d,t.default.extend({tagName:"",events:null,init(){this._super(...arguments),this._calendar=null},willDestroyElement(){this._super(...arguments),this._calendar&&this._calendar.destroy(),this._calendar=null},didInsertElement(){this._super(...arguments),this._renderCalendar()},_renderCalendar(){const e=document.getElementById("upcoming-events-calendar")
e&&(e.innerHTML="",this._loadCalendar().then((()=>{this._calendar=new window.FullCalendar.Calendar(e,{}),(this.events||[]).forEach((e=>{const{starts_at:t,ends_at:s,post:i,category_id:a}=e,l=this.site.categoriesById[a]?.color,d=l?`#${l}`:void 0
this._calendar.addEvent({title:(0,o.formatEventName)(e),start:t,end:s||t,allDay:!(0,r.isNotFullDayEvent)(moment(t),moment(s)),url:(0,n.default)(`/t/-/${i.topic.id}/${i.post_number}`),backgroundColor:d})})),this._calendar.render()})))},_loadCalendar(){return new i.Promise((e=>{(0,a.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js").then((()=>{(0,s.schedule)("afterRender",(()=>{this.isDestroying||this.isDestroyed||e()}))}))}))}}))})),define("discourse/plugins/discourse-calendar/discourse/components/upcoming-events-list",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/components/conditional-loading-spinner","discourse/components/d-button","discourse/lib/ajax","discourse-i18n","truth-helpers/helpers/or","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format","@ember/template-factory","@ember/component"],(function(e,t,s,i,a,n,o,r,l,d,u,c,p){"use strict"
var m,h,b,f,v,g,_,y
function k(e,t,s,i){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(i):void 0})}function w(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var s=e[Symbol.toPrimitive]
if(void 0!==s){var i=s.call(e,t||"default")
if("object"!=typeof i)return i
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function T(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DEFAULT_TIME_FORMAT=e.DEFAULT_MONTH_FORMAT=e.DEFAULT_DATE_FORMAT=void 0
const x=e.DEFAULT_MONTH_FORMAT="MMMM YYYY",M=e.DEFAULT_DATE_FORMAT="dddd, MMM D",j=e.DEFAULT_TIME_FORMAT="LT"
e.default=(y=class extends t.default{constructor(){super(...arguments),k(this,"appEvents",h,this),k(this,"siteSettings",b,this),k(this,"router",f,this),k(this,"isLoading",v,this),k(this,"hasError",g,this),k(this,"eventsByMonth",_,this),w(this,"monthFormat",this.args.params?.monthFormat??x),w(this,"dateFormat",this.args.params?.dateFormat??M),w(this,"timeFormat",this.args.params?.timeFormat??j),w(this,"title",l.default.t("discourse_post_event.upcoming_events_list.title")),w(this,"emptyMessage",l.default.t("discourse_post_event.upcoming_events_list.empty")),w(this,"allDayLabel",l.default.t("discourse_post_event.upcoming_events_list.all_day")),w(this,"errorMessage",l.default.t("discourse_post_event.upcoming_events_list.error")),this.appEvents.on("page:changed",this,this.updateEventsByMonth)}get shouldRender(){if(!this.categoryId)return!1
return this.siteSettings.events_calendar_categories.split("|").includes(this.categoryId.toString())}get categoryId(){return this.router.currentRoute.attributes?.category?.id}get hasEmptyResponse(){return!this.isLoading&&!this.hasError&&0===Object.keys(this.eventsByMonth).length}async updateEventsByMonth(){this.isLoading=!0,this.hasError=!1
try{const{events:e}=await(0,r.ajax)("/discourse-post-event/events",{data:{category_id:this.categoryId}})
this.eventsByMonth=this.groupByMonthAndDay(e)}catch{this.hasError=!0}finally{this.isLoading=!1}}formatMonth(e){return moment(e,"YYYY-MM").format(this.monthFormat)}formatDate(e,t){return moment(`${e}-${t}`,"YYYY-MM-DD").format(this.dateFormat)}formatTime(e){let{starts_at:t,ends_at:s}=e
return(0,u.isNotFullDayEvent)(moment(t),moment(s))?moment(t).format(this.timeFormat):this.allDayLabel}groupByMonthAndDay(e){return e.reduce(((e,t)=>{const s=new Date(t.starts_at),i=s.getFullYear(),a=s.getMonth()+1,n=s.getDate(),o=`${i}-${a}`
return e[o]=e[o]??{},e[o][n]=e[o][n]??[],e[o][n].push(t),e}),{})}},(0,p.setComponentTemplate)((0,c.createTemplateFactory)({id:"7zpDLKKH",block:'[[[1,"\\n"],[41,[30,0,["shouldRender"]],[[[1,"      "],[10,0],[14,0,"upcoming-events-list"],[12],[1,"\\n        "],[10,"h3"],[14,0,"upcoming-events-list__heading"],[12],[1,"\\n          "],[1,[30,0,["title"]]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"upcoming-events-list__container"],[12],[1,"\\n          "],[8,[32,0],null,[["@condition"],[[30,0,["isLoading"]]]],null],[1,"\\n\\n"],[41,[30,0,["hasEmptyResponse"]],[[[1,"            "],[10,0],[14,0,"upcoming-events-list__empty-message"],[12],[1,"\\n              "],[1,[30,0,["emptyMessage"]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasError"]],[[[1,"            "],[10,0],[14,0,"upcoming-events-list__error-message"],[12],[1,"\\n              "],[1,[30,0,["errorMessage"]]],[1,"\\n            "],[13],[1,"\\n            "],[8,[32,1],[[24,0,"btn-link upcoming-events-list__try-again"]],[["@action","@label"],[[30,0,["updateEventsByMonth"]],"discourse_post_event.upcoming_events_list.try_again"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["isLoading"]]],[[[42,[28,[31,3],[[30,0,["eventsByMonth"]]],null],null,[[[41,[30,0,["monthFormat"]],[[[1,"                "],[10,"h4"],[14,0,"upcoming-events-list__formatted-month"],[12],[1,"\\n                  "],[1,[28,[30,0,["formatMonth"]],[[30,2]],null]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[42,[28,[31,3],[[30,1]],null],null,[[[1,"                "],[10,0],[14,0,"upcoming-events-list__day-section"],[12],[1,"\\n                  "],[10,0],[14,0,"upcoming-events-list__formatted-day"],[12],[1,"\\n                    "],[1,[28,[30,0,["formatDate"]],[[30,2],[30,4]],null]],[1,"\\n                  "],[13],[1,"\\n\\n"],[42,[28,[31,4],[[28,[31,4],[[30,3]],null]],null],null,[[[1,"                    "],[10,3],[14,0,"upcoming-events-list__event"],[15,6,[30,5,["post","url"]]],[12],[1,"\\n                      "],[10,0],[14,0,"upcoming-events-list__event-time"],[12],[1,"\\n                        "],[1,[28,[30,0,["formatTime"]],[[30,5]],null]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,0],[14,0,"upcoming-events-list__event-name"],[12],[1,"\\n                        "],[1,[28,[32,2],[[30,5,["name"]],[30,5,["post","topic","title"]]],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[5]],null],[1,"                "],[13],[1,"\\n"]],[3,4]],null]],[1,2]],null]],[]],null],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],["monthData","month","events","day","event"],false,["if","unless","each","-each-in","-track-array"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-calendar/discourse/components/upcoming-events-list.js",scope:()=>[n.default,o.default,d.default],isStrictMode:!0}),y),h=T((m=y).prototype,"appEvents",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=T(m.prototype,"siteSettings",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=T(m.prototype,"router",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=T(m.prototype,"isLoading",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=T(m.prototype,"hasError",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=T(m.prototype,"eventsByMonth",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T(m.prototype,"updateEventsByMonth",[i.action],Object.getOwnPropertyDescriptor(m.prototype,"updateEventsByMonth"),m.prototype),T(m.prototype,"formatMonth",[i.action],Object.getOwnPropertyDescriptor(m.prototype,"formatMonth"),m.prototype),T(m.prototype,"formatDate",[i.action],Object.getOwnPropertyDescriptor(m.prototype,"formatDate"),m.prototype),T(m.prototype,"formatTime",[i.action],Object.getOwnPropertyDescriptor(m.prototype,"formatTime"),m.prototype),m)})),define("discourse/plugins/discourse-calendar/discourse/connectors/after-user-name/holiday-flair",["exports","discourse/lib/text"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={shouldRender:(e,t)=>t.siteSettings.calendar_enabled&&t.site.users_on_holiday&&t.site.users_on_holiday.includes(e.user.username),setupComponent(e,s){const i=this.get("siteSettings.holiday_status_emoji")||"date"
s.setProperties({holidayEmojiName:`:${i}:`,holidayEmoji:(0,t.emojiUrlFor)(i)})}}})),define("discourse/plugins/discourse-calendar/discourse/connectors/before-topic-list-body/category-calendar",["exports","@glimmer/component","@ember/template-factory","@ember/component"],(function(e,t,s,i){"use strict"
var a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{static shouldRender(e,t){return"before-topic-list-body"===t.siteSettings.calendar_categories_outlet}}e.default=n,a=n,(0,i.setComponentTemplate)((0,s.createTemplateFactory)({id:"s4OTe9xw",block:'[[[1,"\\n    "],[10,0],[14,0,"before-topic-list-body-outlet category-calendar"],[12],[13],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-calendar/discourse/connectors/before-topic-list-body/category-calendar.js",isStrictMode:!0}),a)})),define("discourse/plugins/discourse-calendar/discourse/connectors/discovery-list-container-top/category-events-calendar",["exports","@glimmer/component","@ember/template-factory","@ember/component"],(function(e,t,s,i){"use strict"
var a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{static shouldRender(e,t){return"discovery-list-container-top"===t.siteSettings.calendar_categories_outlet}}e.default=n,a=n,(0,i.setComponentTemplate)((0,s.createTemplateFactory)({id:"1b80e/zg",block:'[[[1,"\\n    "],[10,0],[14,1,"category-events-calendar"],[12],[13],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-calendar/discourse/connectors/discovery-list-container-top/category-events-calendar.js",isStrictMode:!0}),a)})),define("discourse/plugins/discourse-calendar/discourse/connectors/user-custom-preferences/region",["exports","@ember/object","discourse/plugins/discourse-calendar/discourse/lib/regions"],(function(e,t,s){"use strict"
function i(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={setupComponent(e,a){var n
a.setProperties((i(n={onChange(e){this.model.set("custom_fields.holidays-region",e)},useCurrentRegion(){this.model.set("custom_fields.holidays-region",s.TIME_ZONE_TO_REGION[moment.tz.guess()]||"us")}},"onChange",[t.action],Object.getOwnPropertyDescriptor(n,"onChange"),n),i(n,"useCurrentRegion",[t.action],Object.getOwnPropertyDescriptor(n,"useCurrentRegion"),n),n))},shouldRender:(e,t)=>t.siteSettings.calendar_enabled}})),define("discourse/plugins/discourse-calendar/discourse/controllers/admin-plugins-calendar",["exports","@ember/controller","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error"],(function(e,t,s,i,a){"use strict"
var n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o,r,l,d,u,c
e.default=t.default.extend((o=n={selectedRegion:null,loading:!1,async getHolidays(e){if(!this.loading)return this.set("selectedRegion",e),this.set("loading",!0),(0,i.ajax)(`/admin/discourse-calendar/holiday-regions/${e}/holidays`).then((e=>{this.model.set("holidays",e.holidays)})).catch(a.popupAjaxError).finally((()=>this.set("loading",!1)))}},r="getHolidays",l=[s.action],d=Object.getOwnPropertyDescriptor(n,"getHolidays"),u=n,c={},Object.keys(d).forEach((function(e){c[e]=d[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,r,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(o,r,c),c=null),n))})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-builder",["exports","@ember/controller","@ember/object","@ember/object/computed","@ember/service","discourse/lib/ajax-error","discourse/lib/text","discourse/mixins/modal-functionality","discourse/models/group","I18n","discourse/plugins/discourse-calendar/discourse/lib/raw-event-helper"],(function(e,t,s,i,a,n,o,r,l,d,u){"use strict"
var c
function p(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m={type:"notification",value:15,unit:"minutes",period:"before"}
function h(e,t){return moment.tz(e.format("YYYY-MM-DDTHH:mm"),t)}e.default=t.default.extend(r.default,(c={dialog:(0,a.inject)(),reminders:null,isLoadingReminders:!1,init(){this._super(...arguments),this.set("reminderTypes",[{value:"notification",name:d.default.t("discourse_post_event.builder_modal.reminders.types.notification")},{value:"bumpTopic",name:d.default.t("discourse_post_event.builder_modal.reminders.types.bump_topic")}]),this.set("reminderUnits",[{value:"minutes",name:d.default.t("discourse_post_event.builder_modal.reminders.units.minutes")},{value:"hours",name:d.default.t("discourse_post_event.builder_modal.reminders.units.hours")},{value:"days",name:d.default.t("discourse_post_event.builder_modal.reminders.units.days")},{value:"weeks",name:d.default.t("discourse_post_event.builder_modal.reminders.units.weeks")}]),this.set("reminderPeriods",[{value:"before",name:d.default.t("discourse_post_event.builder_modal.reminders.periods.before")},{value:"after",name:d.default.t("discourse_post_event.builder_modal.reminders.periods.after")}]),this.set("availableRecurrences",[{id:"every_day",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_day")},{id:"every_month",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_month")},{id:"every_weekday",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_weekday")},{id:"every_week",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_week")},{id:"every_two_weeks",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_two_weeks")},{id:"every_four_weeks",name:d.default.t("discourse_post_event.builder_modal.recurrence.every_four_weeks")}])},modalTitle:(0,s.computed)("model.eventModel.isNew",{get(){return this.model.eventModel.isNew?"create_event_title":"update_event_title"}}),allowedCustomFields:(0,s.computed)("siteSettings.discourse_post_event_allowed_custom_fields",(function(){return this.siteSettings.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean)})),groupFinder:e=>l.default.findAll({term:e,ignore_automatic:!0}),allowsInvitees:(0,i.equal)("model.eventModel.status","private"),addReminderDisabled:(0,i.gte)("model.eventModel.reminders.length",5),onChangeCustomField(e,t){const i=t.target.value;(0,s.set)(this.model.eventModel.custom_fields,e,i)},onChangeStatus(e){this.model.eventModel.set("raw_invitees",[]),"private"===e&&this.setRawInvitees(null,this.model.eventModel.raw_invitees.filter((e=>"trust_level_0"!==e))),this.set("model.eventModel.status",e)},setRawInvitees(e,t){this.set("model.eventModel.raw_invitees",t)},removeReminder(e){this.model.eventModel.reminders.removeObject(e)},addReminder(){this.model.eventModel.reminders||this.model.eventModel.set("reminders",[]),this.model.eventModel.reminders.pushObject(Object.assign({},m))},startsAt:(0,s.computed)("model.eventModel.starts_at",{get(){return moment(this.model.eventModel.starts_at).tz(this.model.eventModel.timezone||"UTC")}}),endsAt:(0,s.computed)("model.eventModel.ends_at",{get(){return this.model.eventModel.ends_at&&moment(this.model.eventModel.ends_at).tz(this.model.eventModel.timezone||"UTC")}}),standaloneEvent:(0,i.equal)("model.eventModel.status","standalone"),publicEvent:(0,i.equal)("model.eventModel.status","public"),privateEvent:(0,i.equal)("model.eventModel.status","private"),onChangeDates(e){this.model.eventModel.setProperties({starts_at:e.from,ends_at:e.to})},onChangeTimezone(e){this.model.eventModel.setProperties({timezone:e,starts_at:h(this.startsAt,e),ends_at:this.endsAt&&h(this.endsAt,e)})},destroyPostEvent(){this.dialog.yesNoConfirm({message:d.default.t("discourse_post_event.builder_modal.confirm_delete"),didConfirm:()=>this.store.find("post",this.model.eventModel.id).then((e=>{const t=e.raw,s=this._removeRawEvent(t),i={raw:s,edit_reason:d.default.t("discourse_post_event.destroy_event")}
return(0,o.cook)(s).then((t=>(i.cooked=t.string,e.save(i).catch((e=>this.flash((0,n.extractError)(e),"error"))).then((e=>e&&this.send("closeModal"))))))})).catch((e=>this.flash((0,n.extractError)(e),"error")))})},createEvent(){if(!this.startsAt)return void this.send("closeModal")
const e=(0,u.buildParams)(this.startsAt,this.endsAt,this.model.eventModel,this.siteSettings),t=[]
Object.keys(e).forEach((s=>{let i=e[s]
t.push(`${s}="${i}"`)})),this.toolbarEvent.addText(`[event ${t.join(" ")}]\n[/event]`),this.send("closeModal")},updateEvent(){return this.store.find("post",this.model.eventModel.id).then((e=>{const t=e.raw,s=(0,u.buildParams)(this.startsAt,this.endsAt,this.model.eventModel,this.siteSettings),i=(0,u.replaceRaw)(s,t)
if(i){const t={raw:i,edit_reason:d.default.t("discourse_post_event.edit_reason")}
return(0,o.cook)(i).then((s=>(t.cooked=s.string,e.save(t).catch((e=>this.flash((0,n.extractError)(e),"error"))).then((e=>e&&this.send("closeModal"))))))}}))},_removeRawEvent(e){const t=new RegExp("\\[event\\s(.*?)\\]\\n\\[\\/event\\]","m")
return e.replace(t,"")}},p(c,"onChangeCustomField",[s.action],Object.getOwnPropertyDescriptor(c,"onChangeCustomField"),c),p(c,"onChangeStatus",[s.action],Object.getOwnPropertyDescriptor(c,"onChangeStatus"),c),p(c,"setRawInvitees",[s.action],Object.getOwnPropertyDescriptor(c,"setRawInvitees"),c),p(c,"removeReminder",[s.action],Object.getOwnPropertyDescriptor(c,"removeReminder"),c),p(c,"addReminder",[s.action],Object.getOwnPropertyDescriptor(c,"addReminder"),c),p(c,"onChangeDates",[s.action],Object.getOwnPropertyDescriptor(c,"onChangeDates"),c),p(c,"onChangeTimezone",[s.action],Object.getOwnPropertyDescriptor(c,"onChangeTimezone"),c),p(c,"destroyPostEvent",[s.action],Object.getOwnPropertyDescriptor(c,"destroyPostEvent"),c),p(c,"createEvent",[s.action],Object.getOwnPropertyDescriptor(c,"createEvent"),c),p(c,"updateEvent",[s.action],Object.getOwnPropertyDescriptor(c,"updateEvent"),c),c))})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-bulk-invite",["exports","@ember/controller","@ember/object","@ember/service","@ember/utils","discourse/lib/ajax","discourse/lib/ajax-error","discourse/mixins/modal-functionality","discourse/models/group","discourse-common/utils/decorators","I18n"],(function(e,t,s,i,a,n,o,r,l,d,u){"use strict"
var c,p
function m(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend(r.default,(c=(0,d.observes)("bulkInvites.@each.identifier"),p={dialog:(0,i.inject)(),bulkInvites:null,bulkInviteStatuses:null,bulkInviteDisabled:!0,init(){this._super(...arguments),this.set("bulkInviteStatuses",[{label:u.default.t("discourse_post_event.models.invitee.status.unknown"),name:"unknown"},{label:u.default.t("discourse_post_event.models.invitee.status.going"),name:"going"},{label:u.default.t("discourse_post_event.models.invitee.status.not_going"),name:"not_going"},{label:u.default.t("discourse_post_event.models.invitee.status.interested"),name:"interested"}])},onShow(){this.set("bulkInvites",[s.default.create({identifier:null,attendance:"unknown"})])},groupFinder:e=>l.default.findAll({term:e,ignore_automatic:!0}),setBulkInviteDisabled(){this.set("bulkInviteDisabled",0===this.bulkInvites.filter((e=>(0,a.isPresent)(e.identifier))).length)},sendBulkInvites(){return(0,n.ajax)(`/discourse-post-event/events/${this.model.eventModel.id}/bulk-invite.json`,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({invitees:this.bulkInvites.filter((e=>(0,a.isPresent)(e.identifier)))})}).then((e=>{e.success&&this.send("closeModal")})).catch((e=>this.flash((0,o.extractError)(e),"error")))},removeBulkInvite(e){this.bulkInvites.removeObject(e),this.bulkInvites.length||this.set("bulkInvites",[s.default.create({identifier:null,attendance:"unknown"})])},addBulkInvite(){const e=this.bulkInvites.get("lastObject.attendance")||"unknown"
this.bulkInvites.pushObject(s.default.create({identifier:null,attendance:e}))},uploadDone(){this.send("closeModal"),this.dialog.alert(u.default.t("discourse_post_event.bulk_invite_modal.success"))},updateInviteIdentifier(e,t){e.set("identifier",t.firstObject)}},m(p,"groupFinder",[s.action],Object.getOwnPropertyDescriptor(p,"groupFinder"),p),m(p,"setBulkInviteDisabled",[c],Object.getOwnPropertyDescriptor(p,"setBulkInviteDisabled"),p),m(p,"sendBulkInvites",[s.action],Object.getOwnPropertyDescriptor(p,"sendBulkInvites"),p),m(p,"removeBulkInvite",[s.action],Object.getOwnPropertyDescriptor(p,"removeBulkInvite"),p),m(p,"addBulkInvite",[s.action],Object.getOwnPropertyDescriptor(p,"addBulkInvite"),p),m(p,"uploadDone",[s.action],Object.getOwnPropertyDescriptor(p,"uploadDone"),p),m(p,"updateInviteIdentifier",[s.action],Object.getOwnPropertyDescriptor(p,"updateInviteIdentifier"),p),p))})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invite-user-or-group",["exports","@ember/controller","@ember/object","discourse/lib/ajax","discourse/lib/ajax-error","discourse/mixins/modal-functionality"],(function(e,t,s,i,a,n){"use strict"
var o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r,l,d,u,c,p
e.default=t.default.extend(n.default,(r=o={invitedNames:null,onClose(){this.set("invitedNames",null)},invite(){return(0,i.ajax)(`/discourse-post-event/events/${this.model.id}/invite.json`,{data:{invites:this.invitedNames||[]},type:"POST"}).then((()=>this.send("closeModal"))).catch((e=>this.flash((0,a.extractError)(e),"error")))}},l="invite",d=[s.action],u=Object.getOwnPropertyDescriptor(o,"invite"),c=o,p={},Object.keys(u).forEach((function(e){p[e]=u[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(r,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(r,l,p),p=null),o))})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-invitees",["exports","@ember/controller","@ember/object","discourse/mixins/modal-functionality","discourse-common/lib/debounce"],(function(e,t,s,i,a){"use strict"
var n
function o(e,t,s,i,a){var n={}
return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend(i.default,(o(n={invitees:null,filter:null,isLoading:!1,type:"going",onShow(){this._fetchInvitees()},toggleViewingFilter(e){this.onFilterChanged(e)},toggleType(e){this.set("type",e),this._fetchInvitees(this.filter)},onFilterChanged(e){(0,a.default)(this,this._fetchInvitees,e,this.type,250)},removeInvitee(e){e.destroyRecord().then((()=>this._fetchInvitees()))},_fetchInvitees(e){this.set("isLoading",!0),this.store.findAll("discourse-post-event-invitee",{filter:e,post_id:this.model.id,type:this.type}).then((e=>this.set("invitees",e))).finally((()=>this.set("isLoading",!1)))}},"toggleViewingFilter",[s.action],Object.getOwnPropertyDescriptor(n,"toggleViewingFilter"),n),o(n,"toggleType",[s.action],Object.getOwnPropertyDescriptor(n,"toggleType"),n),o(n,"onFilterChanged",[s.action],Object.getOwnPropertyDescriptor(n,"onFilterChanged"),n),o(n,"removeInvitee",[s.action],Object.getOwnPropertyDescriptor(n,"removeInvitee"),n),n))})),define("discourse/plugins/discourse-calendar/discourse/controllers/discourse-post-event-upcoming-events-index",["exports","@ember/controller"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({})})),define("discourse/plugins/discourse-calendar/discourse/discourse-event-upcoming-events-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("discourse-post-event-upcoming-events",{path:"/upcoming-events"},(function(){this.route("index",{path:"/"})}))}})),define("discourse/plugins/discourse-calendar/discourse/helpers/format-event-name",["exports","discourse-common/lib/helpers"],(function(e,t){"use strict"
function s(e){return e.name||e.post.topic.title}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatEventName=s
e.default=(0,t.htmlHelper)((e=>s(e)))})),define("discourse/plugins/discourse-calendar/discourse/helpers/format-future-date",["exports","discourse-common/lib/helpers","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.htmlHelper)((e=>{e=moment.utc(e).tz(moment.tz.guess())
const t=(0,s.default)(e)
return e.format(t)}))})),define("discourse/plugins/discourse-calendar/discourse/helpers/render-invitee",["exports","@ember/template","discourse/helpers/user-avatar","discourse/lib/url","discourse/lib/utilities","discourse-common/lib/helpers"],(function(e,t,s,i,a,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,n.htmlHelper)((e=>{const n=`\n    <a href="${(0,i.userPath)(e.user.username)}" data-user-card="${e.user.username}">\n      <span class="user">\n        ${(0,s.renderAvatar)(e.user,{imageSize:"medium"})}\n        <span class="username">\n         ${(0,a.formatUsername)(e.user.username)}\n        </span>\n      </span>\n    </a>\n  `
return(0,t.htmlSafe)(n)}))}))
define("discourse/plugins/discourse-calendar/discourse/initializers/add-event-ui-builder",["exports","discourse/lib/plugin-api","discourse/lib/show-modal"],(function(e,t,s){"use strict"
function i(e){const t=e.getCurrentUser(),i=e.container.lookup("service:store")
e.addComposerToolbarPopupMenuOption({action:e=>{const t=i.createRecord("discourse-post-event-event")
t.set("status","public"),t.set("custom_fields",{}),t.set("starts_at",moment()),t.set("timezone",moment.tz.guess()),(0,s.default)("discourse-post-event-builder").setProperties({toolbarEvent:e,model:{eventModel:t}})},group:"insertions",icon:"calendar-day",label:"discourse_post_event.builder_modal.attach",condition:e=>{if(!t||!t.can_create_discourse_post_event)return!1
const s=e.model
return s&&!s.replyingToTopic&&(s.topicFirstPost||s.creatingPrivateMessage||s.editingPost&&s.post&&1===s.post.post_number)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"add-discourse-post-event-builder",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.7",i)}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/add-hamburger-menu-action",["exports","discourse/lib/plugin-api"],(function(e,t){"use strict"
function s(e){e.decorateWidget("hamburger-menu:generalLinks",(()=>({icon:"calendar-day",route:"discourse-post-event-upcoming-events",label:"discourse_post_event.upcoming_events.title"})))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"add-hamburger-menu-action",initialize(e){const i=e.lookup("service:site-settings")
i.discourse_post_event_enabled&&i.sidebar_show_upcoming_events&&(0,t.withPluginApi)("0.8.7",s)}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/decorate-topic-title",["exports","discourse/lib/plugin-api","discourse/plugins/discourse-calendar/discourse/lib/event-local-date","discourse/plugins/discourse-calendar/discourse/lib/event-relative-date"],(function(e,t,s,i){"use strict"
function a(e){e.decorateTopicTitle(((e,t,a)=>{const n=t.querySelector(".event-date-container")
if(n&&n.remove(),e.event_starts_at&&e.event_ends_at&&("topic-list-item-title"===a||"header-title"===a)){const a=document.createElement("div")
a.classList.add("event-date-container")
const n=document.createElement("span")
n.classList.add("event-date","event-relative-date"),n.dataset.starts_at=e.event_starts_at,n.dataset.ends_at=e.event_ends_at,a.appendChild(n),t.appendChild(a),e.siteSettings.use_local_event_date?(0,s.default)(n):(0,i.default)(n)}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"decorate-topic-title",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,t.withPluginApi)("0.8.40",a)}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/disable-sort",["exports","discourse/lib/plugin-api","discourse-common/utils/decorators"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"disable-sort",initialize(){(0,t.withPluginApi)("0.8",(e=>{var t,i,a,n,o,r,l,d
e.modifyClass("component:topic-list",(t=(0,s.default)("category","siteSettings.disable_resorting_on_categories_enabled"),a=i={pluginId:"discourse-calendar",sortable(e,t){let s=!1
return t&&e?.custom_fields&&(s=!!e.custom_fields.disable_topic_resorting),!!this.changeSort&&!s}},n="sortable",o=[t],r=Object.getOwnPropertyDescriptor(i,"sortable"),l=i,d={},Object.keys(r).forEach((function(e){d[e]=r[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,n,e)||e}),d),l&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(l):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,n,d),d=null),i))}))}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/discourse-calendar",["exports","@ember/utils","@popperjs/core","rsvp","discourse/lib/ajax","discourse/lib/load-script","discourse/lib/plugin-api","discourse/lib/text","discourse/lib/url","discourse/lib/utilities","discourse/models/category","discourse-common/lib/get-url","discourse-common/lib/icon-library","I18n","discourse/plugins/discourse-calendar/discourse/helpers/format-event-name","discourse/plugins/discourse-calendar/discourse/lib/colors","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format"],(function(e,t,s,i,a,n,o,r,l,d,u,c,p,m,h,b,f){"use strict"
function v(){return(0,n.default)("/plugins/discourse-calendar/javascripts/fullcalendar-with-moment-timezone.min.js")}function g(){return m.default.currentLocale().replace("_","-")}function _(){return{today:m.default.t("discourse_calendar.toolbar_button.today"),month:m.default.t("discourse_calendar.toolbar_button.month"),week:m.default.t("discourse_calendar.toolbar_button.week"),day:m.default.t("discourse_calendar.toolbar_button.day"),list:m.default.t("discourse_calendar.toolbar_button.list")}}let y
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k="event-popover"
function w(e){const n=e.container.lookup("service:site-settings")
if(n.login_required&&!e.getCurrentUser())return
let o,w=n.default_timezone_offset_user_option
const T=n.calendar_categories_outlet,x=e.container.lookup("service:site"),M=x&&x.mobileView
let j=`.${T}-outlet`
function z(t,s){const i=function(e,t){let s=e.attr("data-calendar-default-timezone")
moment.tz.zone(s)||(s=null)
return s||t?.timezone||moment.tz.guess()}(t=t.empty(),e.getCurrentUser()),a=function(e,t){let s=document.querySelector(".discourse-calendar-header > .discourse-calendar-title")
const i=(0,d.escapeExpression)(e.attr("data-calendar-default-view")||(M?"listNextYear":"month")),a="false"!==e.attr("data-calendar-show-add-to-calendar")
return new window.FullCalendar.Calendar(e[0],{timeZone:t,timeZoneImpl:"moment-timezone",locale:g(),buttonText:_(),nextDayThreshold:"06:00:00",displayEventEnd:!0,height:650,firstDay:1,defaultView:i,views:{listNextYear:{type:"list",duration:{days:365},buttonText:"list",listDayFormat:{month:"long",year:"numeric",day:"numeric",weekday:"long"}}},header:{left:"prev,next today",center:"title",right:"month,basicWeek,listNextYear"},eventOrder:["start",O,"-duration","allDay","title"],datesRender:e=>{a&&L(e),s.innerText=e.view.title},eventPositioned:e=>{(function(e){if(!n.enable_timezone_offset_for_calendar_events||!w||"listNextYear"===e.view.type)return
const t=e.event.extendedProps.timezoneOffset,s=e.el.parentNode?.colSpan,i=100/s,a=5.5-s
if(t>0){if(e.isStart){const s=Math.abs(t)/24,n=i*s+"%",o=a*s+2+"px"
e.el.style.marginLeft=`calc(${n} + ${o})`}if(e.isEnd){const s=(24-Math.abs(t))/24,n=i*s+"%",o=a*s+2+"px"
e.el.style.marginRight=`calc(${n} + ${o})`}}else if(t<0){if(e.isStart){const s=(24-Math.abs(t))/24,n=i*s+"%",o=a*s+2+"px"
e.el.style.marginLeft=`calc(${n} + ${o})`}if(e.isEnd){const s=Math.abs(t)/24,n=i*s+"%",o=a*s+2+"px"
e.el.style.marginRight=`calc(${n} + ${o})`}}})(e)}})}(t,i),r="static"===t.attr("data-calendar-type"),u="true"===t.attr("data-calendar-full-day")
r?(a.render(),function(e,t,s){$(`<div>${s.cooked}</div>`).find('.calendar[data-calendar-type="static"] p').html().trim().split("<br>").forEach((t=>{const s=$.parseHTML(t),i=s.filter((e=>$(e).hasClass("discourse-local-date")))
let a=E(A($(i[0])),A($(i[1])))
a.title=s[0].textContent.trim(),e.addEvent(a)}))}(a,0,s)):(S(a,s,u,i),a.render(),function(t,s){const i="false"===s.attr("data-weekends"),a=s.attr("data-hidden-days")
i&&t.setOption("weekends",!1)
a&&t.setOption("hiddenDays",a.split(",").map((e=>parseInt(e,10))))
t.setOption("eventClick",(t=>{let{event:s,jsEvent:i}=t
D()
const{htmlContent:a,postNumber:n,postUrl:r}=s.extendedProps
r?l.default.routeTo(r):n?(o=o||e.container.lookup("controller:topic"),o.send("jumpToPost",n)):M&&a&&P(i,a)})),t.setOption("eventMouseEnter",(e=>{let{event:t,jsEvent:s}=e
D()
const{htmlContent:i}=t.extendedProps
P(s,i)})),t.setOption("eventMouseLeave",(()=>{D()}))}(a,t))
const c=()=>{const e=a.getOption("timeZone")
a.getEvents().forEach((e=>e.remove())),S(a,s,u,e)};(function(e,t,s){const i=document.querySelector(".discourse-calendar-timezone-picker")
i?(i.addEventListener("change",(function(t){e.setOption("timeZone",t.target.value),w&&(s(),L(e))})),moment.tz.names().filter((e=>!e.startsWith("Etc/GMT"))).forEach((e=>{i.appendChild(new Option(e,e))})),i.value=t):document.querySelector(".discourse-calendar-timezone-wrap").innerText=t})(a,i,c),n.enable_timezone_offset_for_calendar_events&&function(e){const t=document.querySelector(".discourse-calendar-timezone-wrap"),s=document.createElement("button")
s.title=m.default.t("discourse_calendar.toggle_timezone_offset_title"),s.classList.add("timezone-offset-button","btn","btn-default","btn-icon","no-text"),s.innerHTML=(0,p.iconHTML)("globe"),t.appendChild(s),s.addEventListener("click",(()=>{w=!w,e(),s.blur()}))}(c)}function O(e,t){if(!n.enable_timezone_offset_for_calendar_events&&!w)return 0
const s=e.extendedProps.timezoneOffset,i=t.extendedProps.timezoneOffset
return s===i?0:s<i?-1:1}function A(e){const t=e.attr("data-date")
if(!t)return null
const s=e.attr("data-time"),i=e.attr("data-timezone")
let a=t
return s&&(a=`${a} ${s}`),{weeklyRecurring:"1.weeks"===e.attr("data-recurring"),dateTime:moment.tz(a,i||"Etc/UTC")}}function E(e,t){const s=e=>!!e&&(0!==e.hours()||0!==e.minutes()||0!==e.seconds()),i=s(t?.dateTime)||s(e?.dateTime),a=i?"YYYY-MM-DD HH:mm:ssZ":"YYYY-MM-DD"
let n={start:e.dateTime.format(a),allDay:!1}
return t?i?n.end=t.dateTime.format(a):(n.end=t.dateTime.add(1,"days").format(a),n.allDay=!0):n.allDay=!0,e.weeklyRecurring&&(n.startTime={hours:e.dateTime.hours(),minutes:e.dateTime.minutes(),seconds:e.dateTime.seconds()},n.daysOfWeek=[e.dateTime.day()]),n}function P(e,t){const i=document.createElement("div")
i.setAttribute("id",k),i.innerHTML=t
const a=document.createElement("span")
a.dataset.popperArrow=!0,i.appendChild(a),document.body.appendChild(i),y=(0,s.createPopper)(e.target,document.getElementById(k),{placement:"bottom",modifiers:[{name:"arrow"},{name:"offset",options:{offset:[20,10]}}]})}function D(){y?.destroy(),document.getElementById(k)?.remove()}function C(e){const t=E(e.from?{dateTime:moment(e.from),weeklyRecurring:"1.weeks"===e.recurring}:null,e.to?{dateTime:moment(e.to),weeklyRecurring:"1.weeks"===e.recurring}:null)
return t.extendedProps={},e.post_url?t.extendedProps.postUrl=e.post_url:e.post_number?t.extendedProps.postNumber=e.post_number:t.classNames=["holiday"],e.timezoneOffset&&(t.extendedProps.timezoneOffset=e.timezoneOffset),t}function I(e,t,s){const i=C(s),a=parseInt(n.holiday_calendar_topic_id,10),o=s.message.split("\n").filter((e=>e))
if(o.length&&t.topic_id&&a!==t.topic_id)i.title=o[0],i.extendedProps.description=o.slice(1).join(" ")
else{const e=(0,b.stringToColor)(s.username)
i.title=s.username,i.backgroundColor=(0,b.colorToHex)(e),i.textColor=(0,b.colorToHex)((0,b.contrastColor)(e))}let r=s.message.slice(0,100)
s.message.length>100&&(r+="â¦"),i.extendedProps.htmlContent=r,i.title=i.title.replace(/<img[^>]*>/g,""),e.addEvent(i)}function N(e,t,s,i,a){const o=n.enable_timezone_offset_for_calendar_events&&w&&i?function(e,t){const s=moment.tz(t).utcOffset()
let i=[],a=[]
return Object.values(e.localEvents).forEach((e=>{e.users.forEach((e=>{const t=moment.tz(e.timezone).utcOffset(),a=(s-t)/60
e.timezoneOffset=a,i.push(a)}))})),[...new Set(i)].forEach(((t,s)=>{let i={},o=[]
if(Object.keys(e.localEvents).forEach((a=>{const r=n.split_grouped_events_by_timezone_threshold,l=e.localEvents[a].users.filter((e=>Math.abs(e.timezoneOffset-(t+r*s))<=r))
l.length>0&&(i[a]={users:l},l.forEach((t=>{e.localEvents[a].users.splice(e.localEvents[a].users.findIndex((e=>e.username===t.username)),1),o.find((e=>e.timezoneOffset===t.timezoneOffset))||o.push({timezone:t.timezone,timezoneOffset:t.timezoneOffset})})))})),Object.keys(i).length>0){const t=function(e){const t=e.reduce(((e,t)=>e+t.timezoneOffset),0),s=t/e.length
return e.reduce(((e,t)=>Math.abs(t.timezoneOffset-s)<Math.abs(e.timezoneOffset-s)?t:e))}(o)
let s=moment.tz(e.from,t.timezone),n=moment.tz(e.to,t.timezone)
R(s,n,t.timezoneOffset),a.push({timezoneOffset:t.timezoneOffset,localEvents:i,from:s.format("YYYY-MM-DD"),to:n.format("YYYY-MM-DD")})}})),a}(s,a):[s]
o.forEach((t=>{let s="",i=[],a=[]
Object.keys(t.localEvents).sort().forEach((e=>{const n=t.localEvents[e]
s+=`<b>${e}</b>: ${n.users.map((e=>e.username)).sort().join(", ")}<br>`,i=i.concat(n.users),a.push(e)}))
const n=C(t)
n.classNames=["grouped-event"],i.length>2?n.title=`(${i.length}) ${a[0]}`:1===i.length?n.title=i[0].username:n.title=M?`(${i.length}) ${a[0]}`:`(${i.length}) `+i.map((e=>e.username)).join(", "),a.length>1||i.length>1?n.extendedProps.htmlContent=s:n.extendedProps.htmlContent=a[0],e.addEvent(n)}))}function S(e,t,s,i){const a=[],o=moment.tz(i).utcOffset();(t.calendar_details||[]).forEach((i=>{switch(i.type){case"grouped":a.push(i)
break
case"standalone":if(s&&i.timezone){const s={...i}
let a=moment.tz(i.from,i.timezone),r=moment.tz(i.to,i.timezone)
if(n.enable_timezone_offset_for_calendar_events&&w){const e=moment.tz(i.timezone).utcOffset(),t=(o-e)/60
s.timezoneOffset=t,R(a,r,t)}s.from=a.format("YYYY-MM-DD"),s.to=r.format("YYYY-MM-DD"),I(e,t,s)}else I(e,t,i)}}))
const r={}
a.forEach((e=>{const t=s?moment(e.from).format("YYYY-MM-DD"):moment(e.from).utc().startOf("day").toISOString(),i=s?moment(e.to||e.from).format("YYYY-MM-DD"):moment(e.to||e.from).utc().endOf("day").toISOString(),a=`${t}-${i}`
r[a]=r[a]||{from:t,to:i||t,localEvents:{}},r[a].localEvents[e.name]=r[a].localEvents[e.name]||{users:[]},r[a].localEvents[e.name].users.push.apply(r[a].localEvents[e.name].users,e.users)})),Object.keys(r).forEach((t=>{const a=r[t]
N(e,0,a,s,i)}))}function R(e,t,s){s>0?t.isValid()?t.add(1,"day"):t=e.clone().add(1,"day"):s<0&&(t.isValid()||(t=e.clone()),e.subtract(1,"day"))}function L(e){if("listNextYear"!==e.view.type)return
const t=e.view.eventRenderer.segs,s=function(e){let t={}
for(let s of e.view.calendar.getEvents())t[s._instance.defId]={start:s.start,end:s.end}
return t}(e)
for(const i of t)F(i,s)}function F(e,t){const s=e.eventRange.def.title
let i=t[e.eventRange.def.defId],a=i.start,n=i.end
n=n?H(n,e.eventRange.def.allDay):function(e,t){const s=t?"days":"hours"
return H(moment(e).add(1,s).toDate(),t)}(a,e.eventRange.def.allDay),a=H(a,e.eventRange.def.allDay)
const o=document.createElement("a"),r=m.default.t("discourse_calendar.add_to_calendar")
o.title=r,o.appendChild(document.createTextNode(r)),o.href=`\n      http://www.google.com/calendar/event?action=TEMPLATE&text=${encodeURIComponent(s)}&dates=${a}/${n}&details=${encodeURIComponent(e.eventRange.def.extendedProps.description)}`,o.target="_blank",o.classList.add("fc-list-item-add-to-calendar"),e.el.querySelector(".fc-list-item-title").appendChild(o)}function H(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?moment(e).utc().format("YYYYMMDD"):e.toISOString().replace(/-|:|\.\d\d\d/g,"")}"before-topic-list-body"===T&&(j=`.topic-list:not(.shared-drafts) .${T}-outlet`),e.onPageChange((e=>{const s=document.querySelector(`${j}.category-calendar`)
s&&(s.innerHTML="")
const o=document.getElementById("category-events-calendar")
o&&(o.innerHTML="")
const l=u.default.findBySlugPathWithID(e)
if(!l)return
const p=n.calendar_categories.split("|").filter(Boolean).map((e=>{const t={}
return e.split(";").filter(Boolean).forEach((e=>{const s=e.split("=")
t[s[0]]=s[1]})),t})).findBy("categoryId",l.id.toString())
if(s&&p&&p.postId){const e=p.postId
s.innerHTML='<div class="calendar"><div class="spinner medium"></div></div>',v().then((()=>{const n=[`postId=${e}`];["weekends","tzPicker","defaultView"].forEach((e=>{(0,t.isPresent)(p[e])&&n.push(`${e}=${(0,d.escapeExpression)(p[e])}`)}))
const o=`[calendar ${n.join(" ")}]\n[/calendar]`,l=(0,r.cook)(o),u=(0,a.ajax)(`/posts/${e}.json`)
i.Promise.all([l,u]).then((e=>{const t=e[0],i=e[1]
s.innerHTML=t.string,z($(".calendar"),i)}))}))}else{if(!o)return
n.events_calendar_categories.split("|").find((e=>e===l.id.toString()))&&v().then((()=>{let e=new window.FullCalendar.Calendar(o,{locale:g(),buttonText:_()})
const t=(0,a.ajax)(`/discourse-post-event/events.json?category_id=${l.id}`)
i.Promise.all([t]).then((t=>{const s=t[0]
s[Object.keys(s)[0]].forEach((t=>{const{starts_at:s,ends_at:i,post:a}=t
e.addEvent({title:(0,h.formatEventName)(t),start:s,end:i||s,allDay:!(0,f.isNotFullDayEvent)(moment(s),moment(i)),url:(0,c.default)(`/t/-/${a.topic.id}/${a.post_number}`),backgroundColor:`#${l.color}`})})),e.render()}))}))}})),e.decorateCooked(((e,t)=>function(e,t){const s=$(".calendar",e)
if(0===s.length)return
v().then((()=>z(s,t.getModel())))}(e,t)),{onlyStream:!0,id:"discourse-calendar"}),e.registerCustomPostMessageCallback("calendar_change",(e=>{const t=e.get("model.postStream"),s=t.findLoadedPost(t.get("firstPostId")),i=$(".topic-post article#post_1").find(".calendar").first()
s&&i.length>0&&(0,a.ajax)(`/posts/${s.id}.json`).then((()=>v().then((()=>z(i,s)))))})),e.registerNotificationTypeRenderer&&(e.registerNotificationTypeRenderer("event_reminder",(e=>class extends e{get linkTitle(){return this.notification.data.title?m.default.t(this.notification.data.title):super.linkTitle}get icon(){return"calendar-day"}get label(){return m.default.t(this.notification.data.message)}get description(){return this.notification.data.topic_title}})),e.registerNotificationTypeRenderer("event_invitation",(e=>class extends e{get icon(){return"calendar-day"}get label(){return"discourse_post_event.notifications.invite_user_predefined_attendance_notification"===this.notification.data.message?m.default.t(this.notification.data.message,{username:this.username}):super.label}get description(){return this.notification.data.topic_title}})))}e.default={name:"discourse-calendar",initialize(e){e.lookup("service:site-settings").calendar_enabled&&(0,o.withPluginApi)("0.8.22",w)}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/discourse-group-timezones",["exports","discourse/lib/plugin-api","discourse/widgets/glue","discourse-common/lib/get-owner"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"discourse-group-timezones",initialize(){(0,t.withPluginApi)("0.8.7",(e=>{let t=[]
function a(a,n){const o=$(".group-timezones",a)
o.length&&o.each(((a,o)=>{const r=o.getAttribute("data-group")
if(!r)throw"[group] attribute is necessary when using timezones."
const l=(n.get("group_timezones")||{})[r]||[];(function(a,n){const o=new s.default("discourse-group-timezones",(0,i.getRegister)(e),n)
o.appendTo(a),t.push(o)})(o,{id:`${n.id}-${a}`,members:l,group:r,usersOnHoliday:e.container.lookup("service:site").users_on_holiday||[],size:o.getAttribute("data-size")||"medium"})}))}e.decorateCooked((function(t,s){if(s){const i=s.getModel()
i&&(e.preventCloak(i.id),a(t,i))}}),{id:"discourse-group-timezones"}),e.cleanupStream((function(){t.forEach((e=>e.cleanUp())),t=[]}))}))}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/discourse-post-event-decorator",["exports","@ember/runloop","discourse/lib/local-dates","discourse/lib/plugin-api","discourse/lib/text","discourse/widgets/glue","discourse-common/lib/get-owner","I18n","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format"],(function(e,t,s,i,a,n,o,r,l){"use strict"
function d(e,i,r){(function(e,i,r){const d=i.querySelector(".discourse-post-event")
if(r&&d){d.innerHTML=""
const i=50
let u=50+75+10+4+10
r.should_display_invitees&&!r.minimal&&(u+=110),r.can_update_attendance&&(u+=60),r.url&&(u+=i),d.classList.add("is-loading"),d.style.height=`${u}px`
const p=document.createElement("div")
p.innerHTML='<div class="spinner medium"></div>',d.appendChild(p)
const m=r.timezone||"UTC",h=moment(r.starts_at).tz(m),b=r.ends_at&&moment(r.ends_at).tz(m),f=(0,l.default)(h,b),v=e.container.lookup("service:site-settings")
if(v.discourse_local_dates_enabled){const i=[]
i.push(`[date=${h.format("YYYY-MM-DD")} time=${h.format("HH:mm")} format=${f} timezone=${m}]`),b&&i.push(`[date=${b.format("YYYY-MM-DD")} time=${b.format("HH:mm")} format=${f} timezone=${m}]`),(0,a.cook)(i.join("<span> â </span>")).then((i=>{d.classList.remove("is-loading"),d.classList.add("is-loaded")
const a=new n.default("discourse-post-event",(0,o.getRegister)(e),{eventModel:r,widgetHeight:u,localDates:$(i.toString()).html(),api:e})
a.appendTo(p),c.push(a),(0,t.schedule)("afterRender",(()=>(0,s.applyLocalDates)(document.querySelectorAll(`[data-post-id="${r.id}"] .discourse-local-date`),v)))}))}else{let t=`${h.format(f)}`
r.ends_at&&(t+=` â ${moment(r.ends_at).format(f)}`)
const s=new n.default("discourse-post-event",(0,o.getRegister)(e),{eventModel:r,widgetHeight:u,localDates:t,api:e})
s.appendTo(p),c.push(s)}}else if(!r){const e=i.querySelector(".discourse-post-event")
e&&e.remove()}})(e,i,r)}function u(e,t){t.querySelectorAll(".discourse-post-event").forEach(((e,t)=>{t>0?function(e){e.classList.add("discourse-post-event-preview","alert","alert-error"),e.classList.remove("discourse-post-event"),e.innerText=r.default.t("discourse_post_event.preview.more_than_one_event")}(e):function(e){e.innerHTML="",e.classList.add("discourse-post-event-preview")
const t=`discourse_post_event.models.event.status.${e.dataset.status||"public"}.title`
if(r.default.lookup(t,{locale:"en"})){const s=document.createElement("div")
s.classList.add("event-preview-status"),s.innerText=r.default.t(t),e.appendChild(s)}const s=document.createElement("div")
s.classList.add("event-preview-dates")
const i=moment.tz(e.dataset.start,e.dataset.timezone||"UTC"),a=e.dataset.end&&moment.tz(e.dataset.end,e.dataset.timezone||"UTC"),n=(0,l.default)(i,a)
let o=`<span class='start'>${i.tz(moment.tz.guess()).format(n)}</span>`
a&&(o+=` â <span class='end'>${a.tz(moment.tz.guess()).format(n)}</span>`),s.innerHTML=o,e.appendChild(s)}(e)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=[]
function p(){c.forEach((e=>e.cleanUp())),c=[]}function m(e){e.cleanupStream(p),e.decorateCookedElement(((t,s)=>{if(t.classList.contains("d-editor-preview"))u(0,t)
else if(s){const i=s.getModel()
i&&i.event&&d(e,t,i.event)}}),{id:"discourse-post-event-decorator"}),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_auto_notification","calendar-day"),e.replaceIcon("notification.discourse_calendar.invite_user_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.invite_user_predefined_attendance_notification","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.before_event_reminder","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.after_event_reminder","calendar-day"),e.replaceIcon("notification.discourse_post_event.notifications.ongoing_event_reminder","calendar-day"),e.modifyClass("controller:topic",{pluginId:"discourse-calendar",subscribe(){this._super(...arguments),this.messageBus.subscribe("/discourse-post-event/"+this.get("model.id"),(t=>{const s=document.querySelector(`.onscreen-post[data-post-id="${t.id}"] .cooked`)
s&&this.store.find("discourse-post-event-event",t.id).then((t=>d(e,s,t))).catch((()=>d(e,s)))}))},unsubscribe(){this.messageBus.unsubscribe("/discourse-post-event/*"),this._super(...arguments)}})}e.default={name:"discourse-post-event-decorator",initialize(e){e.lookup("service:site-settings").discourse_post_event_enabled&&(0,i.withPluginApi)("0.8.7",m)}}})),define("discourse/plugins/discourse-calendar/discourse/initializers/event-relative-date",["exports","@ember/runloop","discourse-common/config/environment","discourse-common/lib/later","discourse/plugins/discourse-calendar/discourse/lib/event-relative-date"],(function(e,t,s,i,a){"use strict"
function n(){document.querySelectorAll(".event-relative-date.topic-list").forEach((e=>(0,a.default)(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"event-future-date",initialize(){n(),(0,s.isTesting)()||this._tick()},teardown(){this._interval&&((0,t.cancel)(this._interval),this._interval=null)},_tick(){this._interval&&(0,t.cancel)(this._interval),this._interval=(0,i.default)((()=>{n(),this._tick()}),6e4)}}})),define("discourse/plugins/discourse-calendar/discourse/lib/clean-title",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(!e||!t)return
const i=e.trim().match(s)
return i&&i[0]}
const t="[-/]",s=new RegExp(`[^|\\s](\\d{1,2}${t}\\d{1,2}${t}\\d{2,4}(?:\\s\\d{1,2}:\\d{2})?)$`,"g")})),define("discourse/plugins/discourse-calendar/discourse/lib/colors",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.colorToHex=function(e){let t="#"
for(let s=0;s<3;s++)t+=("00"+Math.round(e[s]).toString(16)).slice(-2)
return t},e.contrastColor=function(e){const t=.2126*e[0]+.7152*e[1]+.0722*e[2]>=128?.25:4
return[Math.min(Math.max(t*e[0],0),255),Math.min(Math.max(t*e[1],0),255),Math.min(Math.max(t*e[2],0),255)]},e.stringToColor=function(e){let t=0
for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t)
let s=[]
for(let i=0;i<3;i++){let e=t>>8*i&255
s.push(e)}return s}})),define("discourse/plugins/discourse-calendar/discourse/lib/discourse-markdown/discourse-calendar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.allowList(["div.calendar","div.discourse-calendar-header","div.discourse-calendar-wrap","select.discourse-calendar-timezone-picker","span.discourse-calendar-timezone-wrap","h2.discourse-calendar-title","div[data-calendar-type]","div[data-calendar-default-view]","div[data-calendar-default-timezone]","div[data-weekends]","div[data-hidden-days]","div.group-timezones","div[data-group]","div[data-size]"]),e.registerOptions(((e,t)=>{e.features["discourse-calendar-enabled"]=!!t.calendar_enabled})),e.registerPlugin((e=>{e.options.discourse.features["discourse-calendar-enabled"]&&(e.block.bbcode.ruler.push("discourse-calendar",t),e.block.bbcode.ruler.push("discourse-group-timezones",s))}))}
const t={tag:"calendar",before:function(e,t){e.push("div_calendar_wrap","div",1).attrs=[["class","discourse-calendar-wrap"]],e.push("div_calendar_header","div",1).attrs=[["class","discourse-calendar-header"]],e.push("h2_open","h2",1).attrs=[["class","discourse-calendar-title"]],e.push("h2_close","h2",-1),e.push("span_open","span",1).attrs=[["class","discourse-calendar-timezone-wrap"]],"true"===t.attrs.tzPicker&&function(e){const t=e.push("select_open","select",1)
t.attrs=[["class","discourse-calendar-timezone-picker"]],e.push("select_close","select",-1)}(e),e.push("span_close","span",-1),e.push("div_calendar_header","div",-1)
let s=e.push("div_calendar","div",1)
s.attrs=[["class","calendar"],["data-calendar-type",t.attrs.type||"dynamic"],["data-calendar-default-timezone",t.attrs.defaultTimezone]],t.attrs.defaultView&&s.attrs.push(["data-calendar-default-view",t.attrs.defaultView]),t.attrs.weekends&&s.attrs.push(["data-weekends",t.attrs.weekends]),t.attrs.showAddToCalendar&&s.attrs.push(["data-calendar-show-add-to-calendar","true"===t.attrs.showAddToCalendar]),t.attrs.fullDay&&s.attrs.push(["data-calendar-full-day","true"===t.attrs.fullDay]),t.attrs.hiddenDays&&s.attrs.push(["data-hidden-days",t.attrs.hiddenDays])},after:function(e){e.push("div_calendar","div",-1),e.push("div_calendar_wrap","div",-1)}},s={tag:"timezones",before:function(e,t){e.push("div_group_timezones","div",1).attrs=[["class","group-timezones"],["data-group",t.attrs.group],["data-size",t.attrs.size||"medium"]]},after:function(e){e.push("div_group_timezones","div",-1)}}})),define("discourse/plugins/discourse-calendar/discourse/lib/discourse-markdown/discourse-post-event-block",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.allowList(["div.discourse-post-event"]),e.registerOptions(((e,t)=>{e.features.discourse_post_event=t.calendar_enabled&&t.discourse_post_event_enabled})),e.registerPlugin((e=>e.block.bbcode.ruler.push("discourse-post-event",t)))}
const t={tag:"event",wrap:(e,t)=>!!t.attrs.start&&(e.attrs=[["class","discourse-post-event"]],Object.keys(t.attrs).forEach((s=>{const i=t.attrs[s]
var a
void 0!==i&&e.attrs.push([`data-${a=s,a.replace(/[A-Z]/g,(function(e,t){return(0!==t?"-":"")+e.toLowerCase()}))}`,i])})),!0)}})),define("discourse/plugins/discourse-calendar/discourse/lib/event-local-date",["exports","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.classList.remove("past","current","future"),e.innerHTML=""
const s=moment.utc(e.dataset.starts_at).tz(moment.tz.guess()),i=moment.utc(e.dataset.ends_at).tz(moment.tz.guess()),a=(0,t.default)(s)
let n=s.format(a)
i&&(n+=` â ${i.format(a)}`)
e.setAttribute("title",n),e.classList.add("past"),e.innerText=s.format(a)}})),define("discourse/plugins/discourse-calendar/discourse/lib/event-relative-date",["exports","I18n","discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.classList.remove("past","current","future"),e.innerHTML=""
const i=moment.utc(e.dataset.starts_at).tz(moment.tz.guess()),a=moment.utc(e.dataset.ends_at).tz(moment.tz.guess()),n=(0,s.default)(i)
let o=i.format(n)
a&&(o+=` â ${a.format(n)}`)
if(e.setAttribute("title",o),i.isAfter(moment())&&a.isAfter(moment()))return e.classList.add("future"),void function(e,t){e.innerText=t.from(moment())}(e,i)
if(i.isBefore(moment())&&a.isAfter(moment()))return e.classList.add("current"),void function(e,s){const i=document.createElement("div")
i.classList.add("indicator"),e.appendChild(i)
const a=document.createElement("span")
a.classList.add("text"),a.innerText=t.default.t("discourse_post_event.topic_title.ends_in_duration",{duration:s.from(moment())}),e.appendChild(a)}(e,a)
if(i.isBefore(moment())&&a.isBefore(moment()))return e.classList.add("past"),void function(e,t){e.innerText=t.from(moment())}(e,a)}})),define("discourse/plugins/discourse-calendar/discourse/lib/guess-best-date-format",["exports"],(function(e){"use strict"
function t(e,t){return e.hours()>0||e.minutes()>0||t&&(moment(t).hours()>0||moment(t).minutes()>0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,s){let i
i=t(e,s)?"LLL":"LL"
return i},e.isNotFullDayEvent=t})),define("discourse/plugins/discourse-calendar/discourse/lib/raw-event-helper",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.buildParams=function(e,t,s,i){const a={},n=s.timezone||"UTC"
a.start=moment(e).tz(n).format("YYYY-MM-DD HH:mm"),s.status&&(a.status=s.status)
s.name&&(a.name=s.name)
s.url&&(a.url=s.url)
s.timezone&&(a.timezone=s.timezone)
s.recurrence&&(a.recurrence=s.recurrence)
s.minimal&&(a.minimal="true")
t&&(a.end=moment(t).tz(n).format("YYYY-MM-DD HH:mm"))
"private"===s.status&&(a.allowedGroups=(s.raw_invitees||[]).join(","))
"public"===s.status&&(a.allowedGroups="trust_level_0")
s.reminders&&s.reminders.length&&(a.reminders=s.reminders.map((e=>{const t=Object.assign({},e)
return"after"===t.period&&(t.value=`-${Math.abs(parseInt(t.value,10))}`),"before"===t.period&&(t.value=Math.abs(parseInt(`${t.value}`,10))),`${t.type}.${t.value}.${t.unit}`})).join(","))
return i.discourse_post_event_allowed_custom_fields.split("|").filter(Boolean).forEach((e=>{const t=e.toLowerCase().replace(/-/g,"_").replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))
void 0!==s.custom_fields[e]&&(a[t]=s.custom_fields[e])})),a},e.replaceRaw=function(e,t){const s=new RegExp("\\[event\\s(.*?)\\]","m"),i=t.match(s)
if(i&&i[1]){const i=[]
return Object.keys(e).forEach((t=>{const s=e[t]
s&&s.length&&i.push(`${t}="${e[t]}"`)})),t.replace(s,`[event ${i.join(" ")}]`)}return!1}})),define("discourse/plugins/discourse-calendar/discourse/lib/regions",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.TIME_ZONE_TO_REGION=e.HOLIDAY_REGIONS=void 0
e.HOLIDAY_REGIONS=["ar","at","au","au_nsw","au_vic","au_qld","au_nt","au_act","au_sa","au_wa","au_tas","au_tas_south","au_qld_cairns","au_qld_brisbane","au_tas_north","au_vic_melbourne","be_fr","be_nl","br","br_spcapital","br_sp","bg_en","bg_bg","ca","ca_qc","ca_ab","ca_sk","ca_on","ca_bc","ca_nb","ca_mb","ca_ns","ca_pe","ca_nl","ca_nt","ca_nu","ca_yt","us","ch_zh","ch_be","ch_lu","ch_ur","ch_sz","ch_ow","ch_nw","ch_gl","ch_zg","ch_fr","ch_so","ch_bs","ch_bl","ch_sh","ch_ar","ch_ai","ch_sg","ch_gr","ch_ag","ch_tg","ch_ti","ch_vd","ch_ne","ch_ge","ch_ju","ch_vs","ch","cl","co","cr","cz","dk","de","de_bw","de_by","de_he","de_nw","de_rp","de_sl","de_sn_sorbian","de_th_cath","de_sn","de_st","de_be","de_by_cath","de_by_augsburg","de_bb","de_mv","de_th","de_hb","de_hh","de_ni","de_sh","ee","el","es_pv","es_na","es_an","es_ib","es_cm","es_mu","es_m","es_ar","es_cl","es_cn","es_lo","es_ga","es_ce","es_o","es_ex","es","es_ct","es_v","es_vc","fi","fr_a","fr_m","fr","gb","gb_eng","gb_wls","gb_eaw","gb_nir","je","gb_jsy","gg","gb_gsy","gb_sct","gb_con","im","gb_iom","ge","gh","hr","hk","hu","id","ie","in_tn","in","in_rj","in_mh","in_gj","is","it","it_ve","it_tv","it_vr","it_pd","it_fi","it_ge","it_to","it_rm","it_vi","it_bl","it_ro","kr","kz","li","lt","lv","ma","mt_mt","mt_en","mx","mx_pue","nl","lu","no","nz","nz_sl","nz_we","nz_ak","nz_nl","nz_ne","nz_ot","nz_ta","nz_sc","nz_hb","nz_mb","nz_ca","nz_ch","nz_wl","pe","ph","pl","pt","pt_li","pt_po","ro","rs_cyrl","rs_la","ru","se","sa","tn","tr","ua","us_fl","us_la","us_ct","us_de","us_gu","us_hi","us_in","us_ky","us_nj","us_nc","us_nd","us_pr","us_tn","us_ms","us_id","us_ar","us_tx","us_dc","us_md","us_va","us_vt","us_ak","us_ca","us_me","us_ma","us_al","us_ga","us_ne","us_mo","us_sc","us_wv","us_vi","us_ut","us_ri","us_az","us_co","us_oh","us_or","us_sd","us_wy","us_nv","us_mt","us_ny","us_pa","us_nm","us_ia","us_il","us_ks","us_mi","us_mn","us_nh","us_ok","us_wa","us_wi","za","ve","sk","si","jp","vi","sg","my","th","ng","ke"],e.TIME_ZONE_TO_REGION={"Africa/Accra":"gh","Africa/Casablanca":"ma","Africa/Ceuta":"es","Africa/Johannesburg":"za","Africa/Lagos":"ng","Africa/Nairobi":"ke","Africa/Tunis":"tn","America/Adak":"us","America/Anchorage":"us","America/Araguaina":"br","America/Argentina/Buenos_Aires":"ar","America/Argentina/Catamarca":"ar","America/Argentina/Cordoba":"ar","America/Argentina/Jujuy":"ar","America/Argentina/La_Rioja":"ar","America/Argentina/Mendoza":"ar","America/Argentina/Rio_Gallegos":"ar","America/Argentina/Salta":"ar","America/Argentina/San_Juan":"ar","America/Argentina/San_Luis":"ar","America/Argentina/Tucuman":"ar","America/Argentina/Ushuaia":"ar","America/Atikokan":"ca","America/Bahia":"br","America/Bahia_Banderas":"mx","America/Belem":"br","America/Blanc-Sablon":"ca","America/Boa_Vista":"br","America/Bogota":"co","America/Boise":"us","America/Cambridge_Bay":"ca","America/Campo_Grande":"br","America/Cancun":"mx","America/Caracas":"ve","America/Chicago":"us","America/Chihuahua":"mx","America/Ciudad_Juarez":"mx","America/Costa_Rica":"cr","America/Creston":"ca","America/Cuiaba":"br","America/Dawson":"ca","America/Dawson_Creek":"ca","America/Denver":"us","America/Detroit":"us","America/Edmonton":"ca","America/Eirunepe":"br","America/Fort_Nelson":"ca","America/Fortaleza":"br","America/Glace_Bay":"ca","America/Goose_Bay":"ca","America/Halifax":"ca","America/Hermosillo":"mx","America/Indiana/Indianapolis":"us","America/Indiana/Knox":"us","America/Indiana/Marengo":"us","America/Indiana/Petersburg":"us","America/Indiana/Tell_City":"us","America/Indiana/Vevay":"us","America/Indiana/Vincennes":"us","America/Indiana/Winamac":"us","America/Inuvik":"ca","America/Iqaluit":"ca","America/Juneau":"us","America/Kentucky/Louisville":"us","America/Kentucky/Monticello":"us","America/Lima":"pe","America/Los_Angeles":"us","America/Maceio":"br","America/Manaus":"br","America/Matamoros":"mx","America/Mazatlan":"mx","America/Menominee":"us","America/Merida":"mx","America/Metlakatla":"us","America/Mexico_City":"mx","America/Moncton":"ca","America/Monterrey":"mx","America/New_York":"us","America/Nome":"us","America/Noronha":"br","America/North_Dakota/Beulah":"us","America/North_Dakota/Center":"us","America/North_Dakota/New_Salem":"us","America/Ojinaga":"mx","America/Phoenix":"us","America/Porto_Velho":"br","America/Punta_Arenas":"cl","America/Rankin_Inlet":"ca","America/Recife":"br","America/Regina":"ca","America/Resolute":"ca","America/Rio_Branco":"br","America/Santarem":"br","America/Santiago":"cl","America/Sao_Paulo":"br","America/Sitka":"us","America/St_Johns":"ca","America/St_Thomas":"vi","America/Swift_Current":"ca","America/Tijuana":"mx","America/Toronto":"ca","America/Vancouver":"ca","America/Whitehorse":"ca","America/Winnipeg":"ca","America/Yakutat":"us","Antarctica/Macquarie":"au","Asia/Almaty":"kz","Asia/Anadyr":"ru","Asia/Aqtau":"kz","Asia/Aqtobe":"kz","Asia/Atyrau":"kz","Asia/Bangkok":"th","Asia/Barnaul":"ru","Asia/Chita":"ru","Asia/Hong_Kong":"hk","Asia/Irkutsk":"ru","Asia/Jakarta":"id","Asia/Jayapura":"id","Asia/Kamchatka":"ru","Asia/Khandyga":"ru","Asia/Kolkata":"in","Asia/Krasnoyarsk":"ru","Asia/Kuala_Lumpur":"my","Asia/Kuching":"my","Asia/Magadan":"ru","Asia/Makassar":"id","Asia/Manila":"ph","Asia/Novokuznetsk":"ru","Asia/Novosibirsk":"ru","Asia/Omsk":"ru","Asia/Oral":"kz","Asia/Pontianak":"id","Asia/Qostanay":"kz","Asia/Qyzylorda":"kz","Asia/Riyadh":"sa","Asia/Sakhalin":"ru","Asia/Seoul":"kr","Asia/Singapore":"sg","Asia/Srednekolymsk":"ru","Asia/Tbilisi":"ge","Asia/Tokyo":"jp","Asia/Tomsk":"ru","Asia/Ust-Nera":"ru","Asia/Vladivostok":"ru","Asia/Yakutsk":"ru","Asia/Yekaterinburg":"ru","Atlantic/Azores":"pt","Atlantic/Canary":"es","Atlantic/Madeira":"pt","Atlantic/Reykjavik":"is","Australia/Adelaide":"au","Australia/Brisbane":"au","Australia/Broken_Hill":"au","Australia/Darwin":"au","Australia/Eucla":"au","Australia/Hobart":"au","Australia/Lindeman":"au","Australia/Lord_Howe":"au","Australia/Melbourne":"au","Australia/Perth":"au","Australia/Sydney":"au","Europe/Amsterdam":"nl","Europe/Astrakhan":"ru","Europe/Athens":"el","Europe/Berlin":"de","Europe/Bratislava":"sk","Europe/Bucharest":"ro","Europe/Budapest":"hu","Europe/Busingen":"de","Europe/Copenhagen":"dk","Europe/Dublin":"ie","Europe/Guernsey":"gg","Europe/Helsinki":"fi","Europe/Isle_of_Man":"im","Europe/Istanbul":"tr","Europe/Jersey":"je","Europe/Kaliningrad":"ru","Europe/Kirov":"ru","Europe/Kyiv":"ua","Europe/Lisbon":"pt","Europe/Ljubljana":"si","Europe/London":"gb","Europe/Luxembourg":"lu","Europe/Madrid":"es","Europe/Moscow":"ru","Europe/Oslo":"no","Europe/Paris":"fr","Europe/Prague":"cz","Europe/Riga":"lv","Europe/Rome":"it","Europe/Samara":"ru","Europe/Saratov":"ru","Europe/Simferopol":"ru","Europe/Stockholm":"se","Europe/Tallinn":"ee","Europe/Ulyanovsk":"ru","Europe/Vaduz":"li","Europe/Vienna":"at","Europe/Vilnius":"lt","Europe/Volgograd":"ru","Europe/Warsaw":"pl","Europe/Zagreb":"hr","Europe/Zurich":"ch","Pacific/Auckland":"nz","Pacific/Chatham":"nz","Pacific/Easter":"cl","Pacific/Honolulu":"us"}})),define("discourse/plugins/discourse-calendar/discourse/lib/round-time",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return e.round(t,"minutes")},"function"!=typeof moment.fn.round&&(moment.fn.round=function(e,t,s){s=s||"round"
let i,a=this,n={hours:{name:"Hours",maxValue:24},minutes:{name:"Minutes",maxValue:60},seconds:{name:"Seconds",maxValue:60},milliseconds:{name:"Milliseconds",maxValue:1e3}},o={mm:n.milliseconds.name,milliseconds:n.milliseconds.name,Milliseconds:n.milliseconds.name,s:n.seconds.name,seconds:n.seconds.name,Seconds:n.seconds.name,m:n.minutes.name,minutes:n.minutes.name,Minutes:n.minutes.name,H:n.hours.name,h:n.hours.name,hours:n.hours.name,Hours:n.hours.name},r=0,l=!1,d=1
if(t.length>1&&"mm"!==t&&"s"!==t.slice(-1)&&(t+="s"),!n[t=o[t].toLowerCase()])throw new Error('The value to round is not valid. Possibles ["hours", "minutes", "seconds", "milliseconds"]')
let u="get"+n[t].name,c="set"+n[t].name
for(let p in n)p===t?(r=a._d[u](),i=n[p].maxValue,l=!0):l&&(d*=n[p].maxValue,r+=a._d["get"+n[p].name]()/d,a._d["set"+n[p].name](0))
return r=Math[s](r/e)*e,r=Math.min(r,i),a._d[c](r),a}),"function"!=typeof moment.fn.ceil&&(moment.fn.ceil=function(e,t){return this.round(e,t,"ceil")}),"function"!=typeof moment.fn.floor&&(moment.fn.floor=function(e,t){return this.round(e,t,"floor")})
const t=15})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-event",["exports","discourse/lib/ajax","discourse/models/rest"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i={id:null,name:null,starts_at:null,ends_at:null,raw_invitees:null,url:null,timezone:null,status:{transform:e=>a[e]}},a={standalone:0,public:1,private:2},n=s.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-event"},update(e){return(0,t.ajax)(`/discourse-post-event/events/${this.id}.json`,{type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({event:e})})},updateProperties(){const e=Object.keys(i)
return this.getProperties(e)},createProperties(){const e=Object.keys(i)
return this.getProperties(e)},_transformProps(e){Object.keys(i).forEach((t=>{const s=i[t]
s?.transform&&(e[t]=s.transform(e[t]))}))},beforeUpdate(e){this._transformProps(e)},beforeCreate(e){this._transformProps(e)}})
e.default=n})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-invitee",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-invitee"}})})),define("discourse/plugins/discourse-calendar/discourse/models/discourse-post-event-reminder",["exports","discourse/models/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=t.default.extend({init(){this._super(...arguments),this.__type="discourse-post-event-reminder"}})})),define("discourse/plugins/discourse-calendar/discourse/routes/discourse-post-event-upcoming-events-index",["exports","@ember/object/evented","@ember/routing/route","discourse/lib/url"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=s.default.extend({enforcePostEventEnabled:(0,t.on)("activate",(function(){this.siteSettings.discourse_post_event_enabled||i.default.redirectTo("/404")})),model(e){return this.store.findAll("discourse-post-event-event",e)}})})),define("discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"BFa8FIqv",block:'[[[10,"h3"],[12],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.header_title"],null]],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,1],null,[["@value","@onChange"],[[30,0,["selectedRegion"]],[28,[37,2],[[30,0],"getHolidays"],null]]],null],[1,"\\n\\n"],[10,2],[14,0,"desc"],[12],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.pick_region_description"],null]],[1,"\\n  "],[10,"br"],[12],[13],[10,"br"],[12],[13],[1,"\\n  "],[1,[28,[35,0],["discourse_calendar.holidays.disabled_holidays_description"],null]],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,3],null,[["@condition"],[[30,0,["loading"]]]],null],[1,"\\n\\n"],[41,[30,0,["model","holidays"]],[[[1,"  "],[8,[39,5],null,[["@holidays","@region_code"],[[30,0,["model","holidays"]],[30,0,["selectedRegion"]]]],null],[1,"\\n"]],[]],null],[1,[28,[32,0],["[[\\"The `loading` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.loading}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["i18n","region-input","action","conditional-loading-spinner","if","admin-holidays-list"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/admin-plugins-calendar.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/connectors/after-user-name/holiday-flair",["exports","ember-this-fallback/this-fallback-helper","ember-this-fallback/try-lookup-helper","@ember/template-factory"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,i.createTemplateFactory)({id:"aV7MmsJe",block:'[[[44,[[28,[37,1],null,[["holidayEmoji","holidayEmojiName"],[[28,[32,0],["holidayEmoji"],null],[28,[32,0],["holidayEmojiName"],null]]]]],[[[10,"img"],[15,"src",[52,[30,1,["holidayEmoji"]],[28,[30,1,["holidayEmoji"]],null,null],[28,[32,1],[[30,0],"holidayEmoji","[\\"The `holidayEmoji` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/connectors/after-user-name/holiday-flair.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holidayEmoji}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]],[14,0,"emoji"],[15,"alt",[52,[30,1,["holidayEmojiName"]],[28,[30,1,["holidayEmojiName"]],null,null],[28,[32,1],[[30,0],"holidayEmojiName","[\\"The `holidayEmojiName` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/connectors/after-user-name/holiday-flair.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.holidayEmojiName}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]"],null]]],[12],[13]],[1]]]],["maybeHelpers"],false,["let","hash","if"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/connectors/after-user-name/holiday-flair.hbs",scope:()=>[s.default,t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/connectors/user-custom-preferences/region",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"cl64Lapn",block:'[[[10,0],[14,0,"control-group"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,0],["discourse_calendar.region.title"],null]],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[8,[39,1],null,[["@value","@allowNoneRegion","@onChange"],[[30,0,["model","custom_fields","holidays-region"]],true,[28,[37,2],[[30,0],"onChange"],null]]],null],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,3],null,[["@icon","@label","@action"],["globe","discourse_calendar.region.use_current_region",[28,[37,2],[[30,0],"useCurrentRegion"],null]]],null],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/connectors/user-custom-preferences/region.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["i18n","region-input","action","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/connectors/user-custom-preferences/region.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events-index",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"Qwi+trV1",block:'[[[10,0],[14,0,"discourse-post-event-upcoming-events"],[12],[1,"\\n  "],[8,[39,0],null,[["@events"],[[30,0,["model"]]]],null],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events-index.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["upcoming-events-calendar"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events-index.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"+Rik5RgH",block:'[[[46,[28,[37,1],null,null],null,null,null]],[],false,["component","-outlet"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/discourse-post-event-upcoming-events.hbs",isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"Ob/iQQG/",block:'[[[8,[39,0],null,[["@title","@class"],[[28,[37,1],["discourse_post_event.builder_modal.",[30,0,["modalTitle"]]],null],"discourse-post-event-builder"]],[["default"],[[[[1,"\\n  "],[8,[39,2],null,[["@isLoading"],[[30,0,["model","eventModel","isSaving"]]]],[["default"],[[[[1,"\\n    "],[10,"form"],[12],[1,"\\n      "],[8,[39,3],null,[["@from","@to","@toTimeFirst","@clearable","@timezone","@onChange"],[[30,0,["startsAt"]],[30,0,["endsAt"]],true,true,[30,0,["model","eventModel","timezone"]],[28,[37,4],[[30,0],"onChangeDates"],null]]],null],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["name","discourse_post_event.builder_modal.name.label"]],[["default"],[[[[1,"\\n        "],[8,[39,6],[[16,"placeholder",[28,[37,7],["discourse_post_event.builder_modal.name.placeholder"],null]],[4,[38,9],["input",[28,[37,4],[[30,0],[28,[37,10],[[30,0,["model","eventModel","name"]]],null]],[["value"],["target.value"]]]],null]],[["@value"],[[28,[37,8],[[30,0,["model","eventModel","name"]]],null]]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["url","discourse_post_event.builder_modal.url.label"]],[["default"],[[[[1,"\\n        "],[8,[39,6],[[16,"placeholder",[28,[37,7],["discourse_post_event.builder_modal.url.placeholder"],null]],[4,[38,9],["input",[28,[37,4],[[30,0],[28,[37,10],[[30,0,["model","eventModel","url"]]],null]],[["value"],["target.value"]]]],null]],[["@value"],[[28,[37,8],[[30,0,["model","eventModel","url"]]],null]]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["timezone","discourse_post_event.builder_modal.timezone.label"]],[["default"],[[[[1,"\\n        "],[8,[39,11],null,[["@value","@onChange","@class","@none"],[[30,0,["model","eventModel","timezone"]],[28,[37,4],[[30,0],"onChangeTimezone"],null],"input-xxlarge","discourse_post_event.builder_modal.timezone.remove_timezone"]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@label"],["discourse_post_event.builder_modal.status.label"]],[["default"],[[[[1,"\\n        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[8,[39,12],null,[["@name","@value","@selection","@onChange"],["status","public",[30,0,["model","eventModel","status"]],[28,[37,4],[[30,0],"onChangeStatus"],null]]],null],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.public.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.public.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[8,[39,12],null,[["@name","@value","@selection","@onChange"],["status","private",[30,0,["model","eventModel","status"]],[28,[37,4],[[30,0],"onChangeStatus"],null]]],null],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.private.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.private.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"label"],[14,0,"radio-label"],[12],[1,"\\n          "],[8,[39,12],null,[["@name","@value","@selection","@onChange"],["status","standalone",[30,0,["model","eventModel","status"]],[28,[37,4],[[30,0],"onChangeStatus"],null]]],null],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[10,1],[14,0,"title"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.standalone.title"],null]],[13],[1,"\\n            "],[10,1],[14,0,"description"],[12],[1,[28,[35,13],["discourse_post_event.models.event.status.standalone.description"],null]],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@enabled","@label"],[[30,0,["allowsInvitees"]],"discourse_post_event.builder_modal.invitees.label"]],[["default"],[[[[1,"\\n        "],[8,[39,14],null,[["@fullWidthWrap","@groupFinder","@groupNames","@onChangeCallback","@placeholderKey"],[true,[30,0,["groupFinder"]],[30,0,["model","eventModel","raw_invitees"]],[28,[37,4],[[30,0],"setRawInvitees"],null],"topic.invite_private.group_name"]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["reminders","discourse_post_event.builder_modal.reminders.label"]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"reminders-list"],[12],[1,"\\n"],[42,[28,[37,16],[[28,[37,16],[[30,0,["model","eventModel","reminders"]]],null]],null],null,[[[1,"            "],[10,0],[14,0,"reminder-item"],[12],[1,"\\n              "],[8,[39,17],null,[["@class","@value","@nameProperty","@valueProperty","@content","@onChange"],["reminder-type",[30,1,["type"]],"name","value",[30,0,["reminderTypes"]],[28,[37,4],[[30,0],[28,[37,10],[[30,1,["type"]]],null]],null]]],null],[1,"\\n\\n              "],[8,[39,6],[[24,0,"reminder-value"],[16,"min",0],[16,"placeholder",[28,[37,7],["discourse_post_event.builder_modal.name.placeholder"],null]],[4,[38,9],["input",[28,[37,4],[[30,0],[28,[37,10],[[30,1,["value"]]],null]],[["value"],["target.value"]]]],null]],[["@value"],[[28,[37,8],[[30,1,["value"]]],null]]],null],[1,"\\n\\n              "],[8,[39,17],null,[["@class","@value","@nameProperty","@valueProperty","@content","@onChange"],["reminder-unit",[30,1,["unit"]],"name","value",[30,0,["reminderUnits"]],[28,[37,4],[[30,0],[28,[37,10],[[30,1,["unit"]]],null]],null]]],null],[1,"\\n\\n              "],[8,[39,17],null,[["@class","@value","@nameProperty","@valueProperty","@content","@onChange"],["reminder-period",[30,1,["period"]],"name","value",[30,0,["reminderPeriods"]],[28,[37,4],[[30,0],[28,[37,10],[[30,1,["period"]]],null]],null]]],null],[1,"\\n\\n              "],[8,[39,18],[[24,0,"remove-reminder"]],[["@icon","@action","@disabled"],["times",[28,[37,4],[[30,0],"removeReminder",[30,1]],null],"isLoadingReminders"]],null],[1,"\\n\\n            "],[13],[1,"\\n"]],[1]],null],[1,"        "],[13],[1,"\\n\\n        "],[8,[39,18],[[24,0,"add-reminder"]],[["@disabled","@icon","@label","@action"],[[30,0,["addReminderDisabled"]],"plus","discourse_post_event.builder_modal.add_reminder",[28,[37,4],[[30,0],"addReminder"],null]]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["recurrence","discourse_post_event.builder_modal.recurrence.label"]],[["default"],[[[[1,"\\n        "],[8,[39,17],null,[["@class","@value","@content","@onChange","@options"],["available-recurrences",[28,[37,8],[[30,0,["model","eventModel","recurrence"]]],null],[30,0,["availableRecurrences"]],[28,[37,4],[[30,0],[28,[37,10],[[30,0,["model","eventModel","recurrence"]]],null]],null],[28,[37,19],null,[["none"],["discourse_post_event.builder_modal.recurrence.none"]]]]],null],[1,"\\n      "]],[]]]]],[1,"\\n\\n      "],[8,[39,5],null,[["@class","@label"],["minimal-event","discourse_post_event.builder_modal.minimal.label"]],[["default"],[[[[1,"\\n        "],[10,"label"],[14,0,"checkbox-label"],[12],[1,"\\n          "],[8,[39,6],null,[["@type","@checked"],["checkbox",[30,0,["model","eventModel","minimal"]]]],null],[1,"\\n          "],[10,1],[14,0,"message"],[12],[1,"\\n            "],[1,[28,[35,13],["discourse_post_event.builder_modal.minimal.checkbox_label"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["allowedCustomFields","length"]],[[[1,"        "],[8,[39,5],null,[["@label"],["discourse_post_event.builder_modal.custom_fields.label"]],[["default"],[[[[1,"\\n          "],[10,2],[14,0,"event-field-description"],[12],[1,[28,[35,13],["discourse_post_event.builder_modal.custom_fields.description"],null]],[13],[1,"\\n"],[42,[28,[37,16],[[28,[37,16],[[30,0,["allowedCustomFields"]]],null]],null],null,[[[1,"            "],[10,1],[14,0,"label custom-field-label"],[12],[1,[30,2]],[13],[1,"\\n            "],[8,[39,6],[[24,0,"custom-field-input"],[16,"placeholder",[28,[37,7],["discourse_post_event.builder_modal.custom_fields.placeholder"],null]],[4,[38,9],["input",[28,[37,4],[[30,0],"onChangeCustomField",[30,2]],null]],null]],[["@value"],[[28,[37,8],[[28,[37,21],[[30,0,["model","eventModel","custom_fields"]],[30,2]],null]],null]]],null],[1,"\\n"]],[2]],null],[1,"        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n"],[41,[30,0,["model","eventModel","isNew"]],[[[1,"    "],[8,[39,18],[[24,0,"btn-primary"]],[["@type","@label","@icon","@action"],["button","discourse_post_event.builder_modal.create","calendar-day",[28,[37,4],[[30,0],"createEvent"],null]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,18],[[24,0,"btn-primary"]],[["@type","@label","@icon","@action"],["button","discourse_post_event.builder_modal.update","calendar-day",[28,[37,4],[[30,0],"updateEvent"],null]]],null],[1,"\\n\\n    "],[8,[39,18],[[24,0,"btn-danger"]],[["@icon","@action"],["trash-alt",[28,[37,4],[[30,0],"destroyPostEvent"],null]]],null],[1,"\\n"]],[]]],[13],[1,[28,[32,0],["[[\\"The `modalTitle` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.modalTitle}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `startsAt` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.startsAt}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `endsAt` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.endsAt}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `allowsInvitees` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.allowsInvitees}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `groupFinder` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.groupFinder}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `reminderTypes` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.reminderTypes}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `reminderUnits` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.reminderUnits}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `reminderPeriods` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.reminderPeriods}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `addReminderDisabled` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.addReminderDisabled}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `availableRecurrences` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.availableRecurrences}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `allowedCustomFields` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.allowedCustomFields}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `allowedCustomFields` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.allowedCustomFields}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["reminder","allowedCustomField"],false,["d-modal-body","concat","conditional-loading-section","date-time-input-range","action","event-field","input","I18n","readonly","on","mut","timezone-input","radio-button","i18n","group-selector","each","-track-array","combo-box","d-button","hash","if","get"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-builder.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"7c6GCxCT",block:'[[[8,[39,0],null,[["@title","@class"],[[28,[37,1],["discourse_post_event.bulk_invite_modal.title"],null],"discourse-post-event-bulk-invite"]],[["default"],[[[[1,"\\n  "],[10,0],[14,0,"bulk-invites"],[12],[1,"\\n    "],[10,2],[14,0,"bulk-event-help"],[12],[1,[28,[35,2],[[28,[37,1],["discourse_post_event.bulk_invite_modal.description_",[30,0,["model","eventModel","status"]]],null]],null]],[13],[1,"\\n    "],[10,"h3"],[12],[1,[28,[35,2],["discourse_post_event.bulk_invite_modal.inline_title"],null]],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-rows"],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,0,["bulkInvites"]]],null]],null],null,[[[1,"        "],[10,0],[14,0,"bulk-invite-row"],[12],[1,"\\n"],[41,[30,0,["model","eventModel","is_private"]],[[[1,"            "],[8,[39,6],null,[["@class","@single","@groupFinder","@groupNames","@placeholderKey"],["bulk-invite-identifier",true,[30,0,["groupFinder"]],[30,1,["identifier"]],"discourse_post_event.bulk_invite_modal.group_selector_placeholder"]],null],[1,"\\n"]],[]],null],[41,[30,0,["model","eventModel","is_public"]],[[[1,"            "],[8,[39,7],null,[["@class","@value","@onChange","@options"],["bulk-invite-identifier",[30,1,["identifier"]],[28,[37,8],[[30,0],"updateInviteIdentifier",[30,1]],null],[28,[37,9],null,[["maximum","filterPlaceholder"],[1,"discourse_post_event.bulk_invite_modal.user_selector_placeholder"]]]]],null],[1,"\\n"]],[]],null],[1,"\\n          "],[8,[39,10],null,[["@class","@value","@content","@nameProperty","@valueProperty","@onChange"],["bulk-invite-attendance",[30,1,["attendance"]],[30,0,["bulkInviteStatuses"]],"name","name",[28,[37,8],[[30,0],[28,[37,11],[[30,1,["attendance"]]],null]],null]]],null],[1,"\\n\\n          "],[8,[39,12],[[24,0,"remove-bulk-invite"]],[["@icon","@action"],["trash-alt",[28,[37,8],[[30,0],"removeBulkInvite",[30,1]],null]]],null],[1,"\\n        "],[13],[1,"\\n"]],[1]],null],[1,"    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-actions"],[12],[1,"\\n      "],[8,[39,12],[[24,0,"send-bulk-invites btn-primary"]],[["@label","@action","@disabled"],["discourse_post_event.bulk_invite_modal.send_bulk_invites",[28,[37,8],[[30,0],"sendBulkInvites"],null],[30,0,["bulkInviteDisabled"]]]],null],[1,"\\n      "],[8,[39,12],[[24,0,"add-bulk-invite"]],[["@icon","@action"],["plus",[28,[37,8],[[30,0],"addBulkInvite"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"csv-bulk-invites"],[12],[1,"\\n    "],[10,"h3"],[12],[1,[28,[35,2],["discourse_post_event.bulk_invite_modal.csv_title"],null]],[13],[1,"\\n\\n    "],[10,0],[14,0,"bulk-invite-actions"],[12],[1,"\\n      "],[8,[39,13],null,null,null],[1,"\\n\\n      "],[8,[39,14],[[24,1,"discourse-post-event-csv-uploader"]],[["@uploadUrl","@i18nPrefix","@uploading","@uploadDone"],[[28,[37,1],["/discourse-post-event/events/",[30,0,["model","eventModel","id"]],"/csv-bulk-invite"],null],"discourse_post_event.bulk_invite_modal",[30,0,["uploading"]],[28,[37,8],[[30,0],"uploadDone"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `bulkInvites` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.bulkInvites}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `groupFinder` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.groupFinder}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `bulkInviteStatuses` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.bulkInviteStatuses}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `bulkInviteDisabled` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.bulkInviteDisabled}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `uploading` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.uploading}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["bulkInvite"],false,["d-modal-body","concat","i18n","each","-track-array","if","group-selector","email-group-user-chooser","action","hash","combo-box","mut","d-button","bulk-invite-sample-csv-file","csv-uploader"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-bulk-invite.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"OoQ8weej",block:'[[[8,[39,0],null,[["@title","@class"],["discourse_post_event.invite_user_or_group.title","invite-user-or-group-modal"]],[["default"],[[[[1,"\\n  "],[10,"form"],[12],[1,"\\n    "],[8,[39,1],null,null,[["default"],[[[[1,"\\n      "],[8,[39,2],null,[["@tabindex","@value","@onChange","@options"],["1",[30,0,["invitedNames"]],[28,[37,3],[[30,0],[28,[37,4],[[30,0,["invitedNames"]]],null]],null],[28,[37,5],null,[["fullWidthWrap","includeMessageableGroups","filterPlaceholder","excludeCurrentUser"],[true,true,"composer.users_placeholder",true]]]]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[8,[39,6],[[24,0,"btn-primary"]],[["@type","@label","@action"],["button","discourse_post_event.invite_user_or_group.invite",[28,[37,3],[[30,0],"invite"],null]]],null],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `invitedNames` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.invitedNames}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `invitedNames` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.invitedNames}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["d-modal-body","event-field","email-group-user-chooser","action","mut","hash","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invite-user-or-group.hbs",scope:()=>[t.default],isStrictMode:!1})}))
define("discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createTemplateFactory)({id:"qBfjSDbS",block:'[[[8,[39,0],null,null,[["default"],[[[[1,"\\n  "],[8,[39,1],[[24,0,"filter"],[16,"placeholder",[28,[37,2],["discourse_post_event.invitees_modal.filter_placeholder"],null]],[4,[38,4],["input",[28,[37,5],[[30,0],"onFilterChanged"],[["value"],["target.value"]]]],null]],[["@value"],[[28,[37,3],[[30,0,["filter"]]],null]]],null],[1,"\\n  "],[8,[39,6],null,[["@modal","@toggle"],[[30,0],[28,[37,5],[[30,0],"toggleType"],null]]],null],[1,"\\n  "],[8,[39,7],null,[["@condition"],[[30,0,["isLoading"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["invitees"]],[[[1,"      "],[10,"ul"],[14,0,"invitees"],[12],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["invitees"]]],null]],null],null,[[[1,"          "],[10,"li"],[14,0,"invitee"],[12],[1,"\\n            "],[1,[28,[35,11],[[30,1]],null]],[1,"\\n\\n"],[41,[30,1,["status"]],[[[1,"              "],[10,1],[15,0,[29,["status ",[30,1,["status"]]]]],[12],[1,"\\n                "],[1,[28,[35,12],[[28,[37,13],["discourse_post_event.models.invitee.status.",[30,1,["status"]]],null]],null]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"              "],[10,1],[14,0,"status"],[12],[1,"\\n                -\\n              "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["model","can_act_on_discourse_post_event"]],[[[1,"              "],[8,[39,14],null,[["@icon","@action"],["trash-alt",[28,[37,5],[[30,0],"removeInvitee",[30,1]],null]]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[1]],null],[1,"      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,2],[14,0,"no-users"],[12],[1,"\\n        "],[1,[28,[35,12],["discourse_post_event.models.invitee.no_users"],null]],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"  "]],[]]]]],[1,"\\n"]],[]]]]],[1,[28,[32,0],["[[\\"The `filter` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.filter}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `isLoading` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.isLoading}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `invitees` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.invitees}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `invitees` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.invitees}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],["invitee"],false,["d-modal-body","input","I18n","readonly","on","action","toggle-invitees-modal","conditional-loading-spinner","if","each","-track-array","render-invitee","i18n","concat","d-button"]]',moduleName:"discourse/plugins/discourse-calendar/discourse/templates/modal/discourse-post-event-invitees.hbs",scope:()=>[t.default],isStrictMode:!1})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone-new-day",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezone-new-day",{tagName:"div.group-timezone-new-day",template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    ")
var a=[]
a.push("\n      "),a.push(s("chevron-left")),a.push("\n      "),a.push(this.attrs.groupedTimezone.beforeDate),a.push("\n    "),i.push(virtualDom.h("span",{className:"before",attributes:{}},a)),i.push("\n    ")
var n=[]
return n.push("\n      "),n.push(this.attrs.groupedTimezone.afterDate),n.push("\n      "),n.push(s("chevron-right")),n.push("\n    "),i.push(virtualDom.h("span",{className:"after",attributes:{}},n)),i.push("\n  "),i}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezone",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezone",{tagName:"div.group-timezone",buildClasses(e){const t=[]
return e.groupedTimezone.closeToWorkingHours&&t.push("close-to-working-hours"),e.groupedTimezone.inWorkingHours&&t.push("in-working-hours"),t.join(" ")},transform:e=>({formatedTime:e.groupedTimezone.nowWithOffset.format("LT")}),template:function(e,t){var s=__widget_helpers.rawHtml,i=[]
i.push("\n    ")
var a=[]
a.push("\n      ")
var n=[]
n.push("\n        "),n.push(this.transformed.formatedTime),n.push("\n      "),a.push(virtualDom.h("span",{className:"time",attributes:{}},n)),a.push("\n      ")
var o=[]
o.push("\n        "),o.push(new s({html:"<span>"+e.groupedTimezone.utcOffset+"</span>"})),o.push("\n      "),a.push(virtualDom.h("span",{className:"offset",attributes:{title:"UTC offset"}},o)),a.push("\n    "),i.push(virtualDom.h("div",{className:"info",attributes:{}},a)),i.push("\n    ")
var r=[]
return r.push("\n"),e.groupedTimezone.members&&e.groupedTimezone.members.length&&e.groupedTimezone.members.forEach((t=>{r.push("        "),r.push(this.attach("discourse-group-timezones-member",{usersOnHoliday:e.usersOnHoliday,member:t},void 0,void 0)),r.push("\n")})),r.push("    "),i.push(virtualDom.h("ul",{className:"group-timezones-members",attributes:{}},r)),i.push("\n  "),i}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-filter",["exports","@ember/runloop","discourse/widgets/widget","I18n"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createWidget)("discourse-group-timezones-filter",{tagName:"input.group-timezones-filter",input(e){this.changeFilterThrottler(e.target.value)},changeFilterThrottler(e){(0,t.throttle)(this,(function(){this.sendWidgetAction("onChangeFilter",e)}),100)},buildAttributes:()=>({type:"text",placeholder:i.default.t("group_timezones.search")})})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-header",["exports","discourse/widgets/widget","I18n"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezones-header",{tagName:"div.group-timezones-header",transform:e=>({title:s.default.t("group_timezones.group_availability",{group:e.group})}),template:function(e,t){var s=[]
s.push("\n    "),s.push(this.attach("discourse-group-timezones-time-traveler",{id:e.id,localTimeOffset:e.localTimeOffset},void 0,void 0)),s.push("\n    ")
var i=[]
return i.push("\n      "),i.push(this.transformed.title),i.push("\n    "),s.push(virtualDom.h("span",{className:"title",attributes:{}},i)),s.push("\n    "),s.push(this.attach("discourse-group-timezones-filter",void 0,void 0,void 0)),s.push("\n  "),s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-member",["exports","virtual-dom","discourse/lib/utilities","discourse/widgets/post","discourse/widgets/widget"],(function(e,t,s,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,a.createWidget)("discourse-group-timezones-member",{tagName:"li.group-timezones-member",buildClasses:e=>e.usersOnHoliday.includes(e.member.username)?"on-holiday":"not-on-holiday",html(e){const{name:a,username:n,avatar_template:o}=e.member
return(0,t.h)("a",{attributes:{class:"group-timezones-member-avatar","data-user-card":n}},(0,i.avatarImg)("small",{template:o,username:a||(0,s.formatUsername)(n)}))}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-reset",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezones-reset",{tagName:"div.group-timezones-reset",onResetOffset(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",0)
const e=document.getElementById(this.attrs.id).querySelector("input[type=range].group-timezones-slider")
e&&(e.value=0)},transform:e=>({isDisabled:0===e.localTimeOffset}),template:function(e,t){var s=[]
return s.push("\n    "),s.push(this.attach("button",{disabled:this.transformed.isDisabled,action:"onResetOffset",icon:"undo"},void 0,void 0)),s.push("\n  "),s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-slider",["exports","@ember/runloop","discourse/widgets/widget"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createWidget)("discourse-group-timezones-slider",{tagName:"input.group-timezones-slider",input(e){this._handleSliderEvent(e)},change(e){this._handleSliderEvent(e)},changeOffsetThrottler(e){(0,t.throttle)(this,(function(){this.sendWidgetAction("onChangeCurrentUserTimeOffset",e)}),75)},buildAttributes:()=>({step:1,value:0,min:-48,max:48,type:"range"}),_handleSliderEvent(e){const t=15*parseInt(e.target.value,10)
this.changeOffsetThrottler(t)}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones-time-traveler",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/discourse/lib/round-time"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezones-time-traveler",{tagName:"div.group-timezones-time-traveler",transform(e){let t=moment().add(e.localTimeOffset,"minutes")
return e.localTimeOffset&&(t=(0,s.default)(t)),{localTimeWithOffset:t.format("HH:mm")}},template:function(e,t){var s=[]
s.push("\n    ")
var i=[]
i.push("\n      "),i.push(this.transformed.localTimeWithOffset),i.push("\n    "),s.push(virtualDom.h("span",{className:"time",attributes:{}},i)),s.push("\n    ")
var a=[]
return a.push("\n      "),a.push(this.attach("discourse-group-timezones-slider",void 0,void 0,void 0)),a.push("\n    "),s.push(virtualDom.h("span",{className:"discourse-group-timezones-slider-wrapper",attributes:{}},a)),s.push("\n    "),s.push(this.attach("discourse-group-timezones-reset",{id:e.id,localTimeOffset:e.localTimeOffset},void 0,void 0)),s.push("\n  "),s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-group-timezones",["exports","discourse/widgets/widget","discourse/plugins/discourse-calendar/discourse/lib/round-time"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-group-timezones",{tagName:"div.group-timezones",buildKey:e=>`group-timezones-${e.id}`,buildClasses:e=>e.size,buildAttributes:e=>({id:e.id}),defaultState:()=>({localTimeOffset:0}),onChangeCurrentUserTimeOffset(e){this.state.localTimeOffset=e},transform(e,t){const s=e.members||[]
let i,a=[]
return s.filterBy("timezone").forEach((e=>{if(this._shouldAddMemberToGroup(this.state.filter,e)){const s=e.timezone,i=parseInt(moment.tz(s).format("YYYYMDHm"),10)
let n=a.findBy("identifier",i)
if(n)n.members.push(e)
else{const o=this._roundMoment(moment.tz(s)),r=this._workingDays(),l=moment.tz(moment.utc(),s).utcOffset()
n={identifier:i,offset:l,type:"discourse-group-timezone",nowWithOffset:o.add(t.localTimeOffset,"minutes"),closeToWorkingHours:this._closeToWorkingHours(o,r),inWorkingHours:this._inWorkingHours(o,r),utcOffset:this._utcOffset(l),members:[e]},a.push(n)}}})),a=a.sortBy("offset").filter((e=>e.members.length)),a.forEach(((e,t)=>{t>0&&a[t-1].nowWithOffset.format("dddd")!==e.nowWithOffset.format("dddd")&&(i=t)})),i&&a.splice(i,0,{type:"discourse-group-timezone-new-day",beforeDate:a[i-1].nowWithOffset.format("dddd"),afterDate:a[i].nowWithOffset.format("dddd")}),{groupedTimezones:a}},onChangeFilter(e){this.state.filter=e&&e.length?e:null},template:function(e,t){var s=[]
s.push("\n    "),s.push(this.attach("discourse-group-timezones-header",{id:e.id,group:e.group,localTimeOffset:t.localTimeOffset},void 0,void 0)),s.push("\n    ")
var i=[]
return i.push("\n"),this.transformed.groupedTimezones&&this.transformed.groupedTimezones.length&&this.transformed.groupedTimezones.forEach((t=>{i.push("        "),i.push(this.attach(t.type,{usersOnHoliday:e.usersOnHoliday,groupedTimezone:t},void 0,void 0)),i.push("\n")})),i.push("    "),s.push(virtualDom.h("div",{className:"group-timezones-body",attributes:{}},i)),s.push("\n  "),s},_shouldAddMemberToGroup:(e,t)=>!e||(e=e.toLowerCase(),!!(t.username.toLowerCase().indexOf(e)>-1||t.name&&t.name.toLowerCase().indexOf(e)>-1)),_roundMoment(e){return this.state.localTimeOffset&&(e=(0,s.default)(e)),e},_closeToWorkingHours(e,t){const s=e.hours(),i=this.siteSettings.working_day_start_hour,a=this.siteSettings.working_day_end_hour,n=this.siteSettings.close_to_working_day_hours_extension
return(s>=Math.max(i-n,0)&&s<=i||s<=Math.min(a+n,23)&&s>=a)&&t.includes(e.isoWeekday())},_inWorkingHours(e,t){const s=e.hours()
return s>this.siteSettings.working_day_start_hour&&s<this.siteSettings.working_day_end_hour&&t.includes(e.isoWeekday())},_utcOffset(e){const t=1===Math.sign(e)?"+":"-"
e=Math.abs(e)
let s=Math.floor(e/60).toString()
s=1===s.length?`0${s}`:s
let i=(e%60).toString()
return i=1===i.length?`:${i}0`:`:${i}`,`${t}${s.replace(/^0(\d)/,"$1")}${i.replace(/:00$/,"")}`.replace(/-0/,"&nbsp;")},_workingDays(){const e=moment().locale("en")
return this.siteSettings.working_days.split("|").filter(Boolean).map((t=>{return s=t,e.localeData()._weekdays.indexOf(s)||7
var s}))}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-dates",["exports","virtual-dom","discourse/widgets/raw-html","discourse/widgets/widget","discourse-common/lib/icon-library","I18n"],(function(e,t,s,i,a,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,i.createWidget)("discourse-post-event-dates",{tagName:"section.event-dates",showAllParticipatingInvitees(e){this.sendWidgetAction("showAllInvitees",{postId:e,title:"title_participated",extraClass:"participated"})},html(e){const i=[(0,a.iconNode)("clock"),(0,t.h)("span.date",new s.default({html:`<span>${e.localDates}</span>`}))]
if(e.eventModel.is_expired&&"standalone"!==e.eventModel.status){let s
const a=n.default.t("discourse_post_event.event_ui.participants",{count:e.eventModel.stats.going})
s=e.eventModel.stats.going>0?this.attach("link",{action:"showAllParticipatingInvitees",actionParam:e.eventModel.id,contents:()=>a}):a,i.push((0,t.h)("span.participants",[(0,t.h)("span"," - "),s]))}return i}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-host",["exports","virtual-dom","discourse/lib/utilities","discourse/widgets/post","discourse/widgets/widget"],(function(e,t,s,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,a.createWidget)("discourse-post-event-creator",{tagName:"span.event-creator",html(e){const{name:a,username:n,avatar_template:o}=e.user
return(0,t.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":n}},[(0,i.avatarImg)("tiny",{template:o,username:a||(0,s.formatUsername)(n)}),(0,t.h)("span",{attributes:{class:"username"}},a||(0,s.formatUsername)(n))])}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitee",["exports","@ember/utils","virtual-dom","discourse/lib/utilities","discourse/widgets/post","discourse/widgets/widget","I18n"],(function(e,t,s,i,a,n,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,n.createWidget)("discourse-post-event-invitee",{tagName:"li.event-invitee",buildClasses(e){const s=[]
return(0,t.isPresent)(e.invitee.status)&&s.push(`status-${e.invitee.status}`),this.currentUser&&this.currentUser.username===e.invitee.user.username&&s.push("is-current-user"),s},html(e){const{name:t,username:n,avatar_template:r}=e.invitee.user
let l
switch(e.invitee.status){case"going":l="fa-check"
break
case"interested":l="fa-star"
break
case"not_going":l="fa-times"}const d=[(0,a.avatarImg)(this.site.mobileView?"tiny":"large",{template:r,username:t||(0,i.formatUsername)(n)})]
return l&&d.push(this.attach("avatar-flair",{flair_name:o.default.t(`discourse_post_event.models.invitee.status.${e.invitee.status}`),flair_url:l})),(0,s.h)("a",{attributes:{class:"topic-invitee-avatar","data-user-card":n}},d)}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-invitees",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-post-event-invitees",{tagName:"section.event-invitees",transform:e=>({isPrivateEvent:"private"===e.eventModel.status}),template:function(e,t){var s=[]
s.push("\n    ")
var i=[]
i.push("\n      ")
var a=[]
a.push("\n        ")
var n=[]
n.push(e.eventModel.stats.going),n.push(" "),n.push(I18n.t("discourse_post_event.models.invitee.status.going")),n.push(" -"),a.push(virtualDom.h("span",n)),a.push("\n        ")
var o=[]
o.push(e.eventModel.stats.interested),o.push(" "),o.push(I18n.t("discourse_post_event.models.invitee.status.interested")),o.push(" -"),a.push(virtualDom.h("span",o)),a.push("\n        ")
var r=[]
if(r.push(e.eventModel.stats.not_going),r.push(" "),r.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),a.push(virtualDom.h("span",r)),a.push("\n"),this.transformed.isPrivateEvent){a.push("          ")
var l=[]
l.push("- on "),l.push(e.eventModel.stats.invited),l.push(" users invited"),a.push(virtualDom.h("span",{className:"invited",attributes:{}},l)),a.push("\n")}a.push("      "),i.push(virtualDom.h("div",{className:"event-invitees-status",attributes:{}},a)),i.push("\n\n      "),i.push(this.attach("button",{className:"show-all btn-small",label:"discourse_post_event.event_ui.show_all",action:"showAllInvitees",actionParam:{postId:e.eventModel.id}},void 0,void 0)),i.push("\n    "),s.push(virtualDom.h("div",{className:"header",attributes:{}},i)),s.push("\n    ")
var d=[]
return d.push("\n"),e.eventModel.sample_invitees&&e.eventModel.sample_invitees.length&&e.eventModel.sample_invitees.forEach((e=>{d.push("        "),d.push(this.attach("discourse-post-event-invitee",{invitee:e},void 0,void 0)),d.push("\n")})),d.push("    "),s.push(virtualDom.h("ul",{className:"event-invitees-avatars",attributes:{}},d)),s.push("\n  "),s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-status",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("discourse-post-event-status",{tagName:"div.event-status",buildKey:e=>`discourse-post-event-status-${e.id}`,buildClasses(e){if(e.watchingInvitee)return`status-${e.watchingInvitee.status}`},template:function(e,t){var s=[]
return s.push("\n"),e.minimal||(s.push("      "),s.push(this.attach("going-button",void 0,void 0,void 0)),s.push("\n")),s.push("    "),s.push(this.attach("interested-button",void 0,void 0,void 0)),s.push("\n"),e.minimal||(s.push("      "),s.push(this.attach("not-going-button",void 0,void 0,void 0)),s.push("\n")),s.push("  "),s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event-url",["exports","virtual-dom","discourse/widgets/widget","discourse-common/lib/icon-library"],(function(e,t,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,s.createWidget)("discourse-post-event-url",{tagName:"section.event-url",html(e){return[(0,i.iconNode)("link"),(0,t.h)("a.url",{attributes:{href:(s=e.url,-1===s.indexOf("://")&&-1===s.indexOf("mailto:")?"https://"+s:s),target:"_blank",rel:"noopener noreferrer"}},e.url)]
var s}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/discourse-post-event",["exports","@ember/object","@ember/string","discourse/helpers/route-action","discourse/lib/export-csv","discourse/lib/show-modal","discourse/lib/text","discourse/lib/utilities","discourse/widgets/widget","I18n","discourse/plugins/discourse-calendar/discourse/lib/clean-title","discourse/plugins/discourse-calendar/discourse/lib/raw-event-helper"],(function(e,t,s,i,a,n,o,r,l,d,u,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,l.createWidget)("discourse-post-event",{tagName:"div.discourse-post-event-widget",services:["dialog"],buildKey:e=>`discourse-post-event-${e.id}`,buildClasses(){if(this.state.event)return["has-discourse-post-event"]},inviteUserOrGroup(e){this.store.find("discourse-post-event-event",e).then((e=>{(0,n.default)("discourse-post-event-invite-user-or-group",{model:e})}))},showAllInvitees(e){const t=e.postId,i=e.title||"title_invited",a=e.extraClass||"invited",o="discourse-post-event-invitees"
this.store.find("discourse-post-event-event",t).then((e=>{(0,n.default)(o,{model:e,title:`discourse_post_event.invitees_modal.${i}`,modalClass:[`${(0,s.dasherize)(o).toLowerCase()}-modal`,a].join(" ")})}))},editPostEvent(e){this.store.find("discourse-post-event-event",e).then((e=>{(0,n.default)("discourse-post-event-builder",{model:{eventModel:e,topicId:e.post.topic.id}})}))},closeEvent(e){this.dialog.yesNoConfirm({message:d.default.t("discourse_post_event.builder_modal.confirm_close"),didConfirm:()=>this.store.find("post",e.id).then((t=>{const s=t.raw,i=e.starts_at?moment(e.starts_at):moment(),a=(0,c.buildParams)(moment().isBefore(i)?moment():i,moment().isBefore(i)?moment().add(1,"minute"):moment(),e,this.siteSettings),n=(0,c.replaceRaw)(a,s)
if(n){const e={raw:n,edit_reason:d.default.t("discourse_post_event.edit_reason")}
return(0,o.cook)(n).then((s=>(e.cooked=s.string,t.save(e))))}}))})},changeWatchingInviteeStatus(e){if(this.state.eventModel.watching_invitee){let t=e
e===this.state.eventModel.watching_invitee.status&&"interested"===e&&(t=null),this.store.update("discourse-post-event-invitee",this.state.eventModel.watching_invitee.id,{status:t,post_id:this.state.eventModel.id})}else this.store.createRecord("discourse-post-event-invitee").save({post_id:this.state.eventModel.id,status:e})},defaultState:e=>({eventModel:e.eventModel}),exportPostEvent(e){(0,a.exportEntity)("post_event",{name:"post_event",id:e})},bulkInvite(e){(0,n.default)("discourse-post-event-bulk-invite",{model:{eventModel:e}})},sendPMToCreator(){const e=this.register.lookup("service:router")._router;(0,i.routeAction)("composePrivateMessage",e,t.default.create(this.state.eventModel.creator),t.default.create(this.state.eventModel.post)).call()},addToCalendar(){const e=this.state.eventModel
this.attrs.api.downloadCalendar(e.name||e.post.topic.title,[{startsAt:e.starts_at,endsAt:e.ends_at}])},leaveEvent(e){this.store.findAll("discourse-post-event-invitee",{post_id:e}).then((e=>{e.find((e=>e.id===this.state.eventModel.watching_invitee.id)).destroyRecord()}))},transform(){const e=this.state.eventModel
return{eventStatusLabel:d.default.t(`discourse_post_event.models.event.status.${e.status}.title`),eventStatusDescription:d.default.t(`discourse_post_event.models.event.status.${e.status}.description`),startsAtMonth:moment(e.starts_at).format("MMM"),startsAtDay:moment(e.starts_at).format("D"),eventName:(0,o.emojiUnescape)((0,r.escapeExpression)(e.name)||this._cleanTopicTitle(e.post.topic.title,e.starts_at)),statusClass:`status ${e.status}`,isPublicEvent:"public"===e.status,isStandaloneEvent:"standalone"===e.status,canActOnEvent:this.currentUser&&this.state.eventModel.can_act_on_discourse_post_event}},template:function(e,t){var s=__widget_helpers.rawHtml,i=[]
if(i.push("\n"),t.eventModel){i.push("      ")
var a=[]
a.push("\n        ")
var n=[]
n.push("\n          ")
var o=[]
o.push(this.transformed.startsAtMonth),n.push(virtualDom.h("div",{className:"month",attributes:{}},o)),n.push("\n          ")
var r=[]
r.push(this.transformed.startsAtDay),n.push(virtualDom.h("div",{className:"day",attributes:{}},r)),n.push("\n        "),a.push(virtualDom.h("div",{className:"event-date",attributes:{}},n)),a.push("\n        ")
var l=[]
l.push("\n          ")
var u=[]
u.push("\n            "),u.push(new s({html:"<span>"+this.transformed.eventName+"</span>"})),u.push("\n          "),l.push(virtualDom.h("span",{className:"name",attributes:{}},u)),l.push("\n          ")
var c=[]
if(c.push("\n"),!this.transformed.isStandaloneEvent){if(t.eventModel.is_expired){c.push("                ")
var p=[]
p.push("\n                  "),p.push(d.default.t("discourse_post_event.models.event.expired")),p.push("\n                "),c.push(virtualDom.h("span",{className:"status expired",attributes:{}},p)),c.push("\n")}else{c.push("                ")
var m=[]
m.push("\n                  "),m.push(this.transformed.eventStatusLabel),m.push("\n                "),c.push(virtualDom.h("span",{className:this.transformed.statusClass,attributes:{title:this.transformed.eventStatusDescription}},m)),c.push("\n")}c.push("              ")
var h=[]
h.push("Â·"),c.push(virtualDom.h("span",{className:"separator",attributes:{}},h)),c.push("\n")}c.push("            ")
var b=[]
b.push("\n              ")
var f=[]
if(f.push(d.default.t("discourse_post_event.event_ui.created_by")),b.push(virtualDom.h("span",{className:"created-by",attributes:{}},f)),b.push("\n              "),b.push(this.attach("discourse-post-event-creator",{user:t.eventModel.creator},void 0,void 0)),b.push("\n            "),c.push(virtualDom.h("span",{className:"creators",attributes:{}},b)),c.push("\n          "),l.push(virtualDom.h("div",{className:"status-and-creators",attributes:{}},c)),l.push("\n        "),a.push(virtualDom.h("div",{className:"event-info",attributes:{}},l)),a.push("\n\n        "),a.push(this.attach("more-dropdown",{canActOnEvent:this.transformed.canActOnEvent,isPublicEvent:this.transformed.isPublicEvent,eventModel:t.eventModel},void 0,void 0)),a.push("\n      "),i.push(virtualDom.h("header",{className:"event-header",attributes:{}},a)),i.push("\n\n"),t.eventModel.can_update_attendance){i.push("        ")
var v=[]
v.push("\n          "),v.push(this.attach("discourse-post-event-status",{watchingInvitee:this.state.eventModel.watching_invitee,minimal:this.state.eventModel.minimal},void 0,void 0)),v.push("\n        "),i.push(virtualDom.h("section",{className:"event-actions",attributes:{}},v)),i.push("\n")}if(i.push("\n"),this.state.eventModel.url){i.push("        ")
i.push(virtualDom.h("hr",[])),i.push("\n\n        "),i.push(this.attach("discourse-post-event-url",{url:this.state.eventModel.url},void 0,void 0)),i.push("\n")}i.push("\n      ")
if(i.push(virtualDom.h("hr",[])),i.push("\n\n      "),i.push(this.attach("discourse-post-event-dates",{localDates:e.localDates,eventModel:t.eventModel},void 0,void 0)),i.push("\n\n"),!t.eventModel.minimal&&t.eventModel.should_display_invitees){i.push("          ")
i.push(virtualDom.h("hr",[])),i.push("\n\n          "),i.push(this.attach("discourse-post-event-invitees",{eventModel:t.eventModel},void 0,void 0)),i.push("\n")}}return i.push("  "),i},_cleanTopicTitle(e,t){e=(0,r.escapeExpression)(e)
const s=(0,u.default)(e,t)
return s?e.replace(s,""):e}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/event-invitation-notification-item",["discourse/lib/utilities","discourse/widgets/default-notification-item","discourse/widgets/widget","discourse-common/lib/icon-library","I18n"],(function(e,t,s,i,a){"use strict";(0,s.createWidgetFrom)(t.DefaultNotificationItem,"event-invitation-notification-item",{notificationTitle:(e,t)=>t.title?a.default.t(t.title):"",text(t,s){const i=`<span>${(0,e.formatUsername)(s.display_username)}</span>`
let n
n=s.topic_title?`<span data-topic-id="${this.attrs.topic_id}">${(0,e.escapeExpression)(s.topic_title)}</span>`:this.description(s)
let o=s.message
return"discourse_post_event.notifications.invite_user_predefined_attendance_notification"===o&&(o+="_html"),a.default.t(o,{description:n,username:i})},icon:(e,t)=>(0,i.iconNode)(`notification.${t.message}`)})})),define("discourse/plugins/discourse-calendar/discourse/widgets/event-reminder-notification-item",["discourse/lib/utilities","discourse/widgets/default-notification-item","discourse/widgets/widget","discourse-common/lib/icon-library","I18n"],(function(e,t,s,i,a){"use strict";(0,s.createWidgetFrom)(t.DefaultNotificationItem,"event-reminder-notification-item",{notificationTitle:(e,t)=>t.title?a.default.t(t.title):"",text(t,s){const i=(0,e.formatUsername)(s.display_username)
let n
return n=s.topic_title?`<span data-topic-id="${this.attrs.topic_id}">${(0,e.escapeExpression)(s.topic_title)}</span>`:this.description(s),a.default.t(`${s.message}_html`,{description:n,username:i})},icon:(e,t)=>(0,i.iconNode)(`notification.${t.message}`)})})),define("discourse/plugins/discourse-calendar/discourse/widgets/going-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("going-button",{tagName:"button.going-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","going")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("check")),i.push("\n    ")
var a=[]
return a.push("\n      "),a.push(I18n.t("discourse_post_event.models.invitee.status.going")),a.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},a)),i.push("\n  "),i}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/interested-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("interested-button",{tagName:"button.interested-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","interested")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("star")),i.push("\n    ")
var a=[]
return a.push("\n      "),a.push(I18n.t("discourse_post_event.models.invitee.status.interested")),a.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},a)),i.push("\n  "),i}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/more-dropdown",["exports","discourse/widgets/widget","I18n"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("more-dropdown",{tagName:"div.more-dropdown",buildKey:()=>"more-dropdown",transform(e){return{content:this._buildContent(e),onChange:e=>this.sendWidgetAction(e.id,e.param),options:{}}},template:function(e,t){var s=[]
return s.push("\n    "),s.push(this.attach("widget-dropdown",{id:"more-dropdown",translatedLabel:"More",icon:"ellipsis-h",content:this.transformed.content,onChange:this.transformed.onChange,options:this.transformed.options},void 0,void 0)),s.push("\n  "),s},buildClasses(e){if(!this._buildContent(e).length)return["has-no-actions"]},_buildContent(e){const t=[]
return e.eventModel.is_expired||t.push({id:"addToCalendar",icon:"file",label:"discourse_post_event.event_ui.add_to_calendar"}),this.currentUser&&t.push({id:"sendPMToCreator",icon:"envelope",translatedLabel:s.default.t("discourse_post_event.event_ui.send_pm_to_creator",{username:e.eventModel.creator.username})}),!e.is_expired&&e.canActOnEvent&&e.isPublicEvent&&t.push({id:"inviteUserOrGroup",icon:"user-plus",label:"discourse_post_event.event_ui.invite",param:e.eventModel.id}),e.eventModel.watching_invitee&&e.isPublicEvent&&t.push({id:"leaveEvent",icon:"times",label:"discourse_post_event.event_ui.leave",param:e.eventModel.id}),e.canActOnEvent&&(t.push("separator"),t.push({icon:"file-csv",id:"exportPostEvent",label:"discourse_post_event.event_ui.export_event",param:e.eventModel.id}),e.eventModel.is_expired||e.eventModel.is_standalone||t.push({icon:"file-upload",id:"bulkInvite",label:"discourse_post_event.event_ui.bulk_invite",param:e.eventModel}),t.push({icon:"pencil-alt",id:"editPostEvent",label:"discourse_post_event.event_ui.edit_event",param:e.eventModel.id}),e.eventModel.is_expired||t.push({icon:"times",id:"closeEvent",label:"discourse_post_event.event_ui.close_event",class:"danger",param:e.eventModel})),t}})})),define("discourse/plugins/discourse-calendar/discourse/widgets/not-going-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createWidget)("not-going-button",{tagName:"button.not-going-button.btn.btn-default",click(){this.sendWidgetAction("changeWatchingInviteeStatus","not_going")},template:function(e,t){var s=__widget_helpers.iconNode,i=[]
i.push("\n    "),i.push(s("times")),i.push("\n    ")
var a=[]
return a.push("\n      "),a.push(I18n.t("discourse_post_event.models.invitee.status.not_going")),a.push("\n    "),i.push(virtualDom.h("span",{className:"label",attributes:{}},a)),i.push("\n  "),i}})}))

//# sourceMappingURL=discourse-calendar-acfd3325b266b60ed559a89726866085f4e7c40bf4123a2258502a6ef4eb38fd.map
//!

;
